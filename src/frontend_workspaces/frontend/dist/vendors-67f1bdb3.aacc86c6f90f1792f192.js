"use strict";(self.webpackChunk_carbon_ai_chat_examples_web_components_basic=self.webpackChunk_carbon_ai_chat_examples_web_components_basic||[]).push([[4520],{67244:function(e,t,n){n.d(t,{Ay:function(){return F},Bp:function(){return Tt},WM:function(){return je},mH:function(){return $t}});var i=n(31481),o=n(38166),r=n(76906),a=n(23108),u=n.n(a),s=n(7378),l=(n(43588),n(83416)),c=n(56636),d=0;function p(e){return"function"==typeof e?e:f}function f(){}function m(e,t){e&&(0,l.O)(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(function(e){var t=e.el,n=e.top,i=e.left;t.scrollTop=n,t.scrollLeft=i})}function h(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function g(e,t){var n;function i(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];i(),n=setTimeout(function(){n=null,e.apply(void 0,r)},t)}return o.cancel=i,o}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some(function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault})}}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):t&&(t.current=e)})}}function y(){return String(d++)}function b(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function x(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}function S(e){return"string"==typeof e.type}function w(e){return e.props}var T=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function E(e){void 0===e&&(e={});var t={};return T.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function A(e,t){return e&&t?Object.keys(e).reduce(function(n,i){return n[i]=D(t,i)?t[i]:e[i],n},{}):e}function D(e,t){return void 0!==e[t]}function C(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function k(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(0===r)return-1;var a=r-1;("number"!=typeof e||e<0||e>a)&&(e=t>0?-1:a+1);var u=e+t;u<0?u=o?a:0:u>a&&(u=o?0:a);var s=O(u,t<0,n,i,o);return-1===s?e>=r?-1:e:s}function O(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(t){for(var a=e;a>=0;a--)if(!i(n[a],a))return a}else for(var u=e;u<r;u++)if(!i(n[u],u))return u;return o?O(t?r-1:0,t,n,i):-1}function M(e,t,n,i){return void 0===i&&(i=!0),n&&t.some(function(t){return t&&(h(t,e,n)||i&&h(t,n.document.activeElement,n))})}var R=g(function(e){_(e).textContent=""},500);function _(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function N(e,t){e&&t&&(_(t).textContent=e,R(t))}var P=Object.freeze({__proto__:null,blurButton:14,blurInput:10,changeInput:11,clickButton:13,clickItem:9,controlledPropUpdatedSelectedItem:15,itemMouseEnter:2,keyDownArrowDown:4,keyDownArrowUp:3,keyDownEnd:8,keyDownEnter:6,keyDownEscape:5,keyDownHome:7,keyDownSpaceButton:12,mouseUp:1,touchEnd:16,unknown:0}),L=["refKey","ref"],H=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],K=["onKeyDown","onBlur","onChange","onInput","onChangeText"],B=["refKey","ref"],V=["onMouseMove","onMouseDown","onClick","onPress","index","item"],F=function(){var e=function(e){function t(t){var n;(n=e.call(this,t)||this).id=n.props.id||"downshift-"+y(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var i=setTimeout(function(){n.timeoutIds=n.timeoutIds.filter(function(e){return e!==i}),e()},t);n.timeoutIds.push(i)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.isItemDisabled=function(e,t){var i=n.getItemNodeFromIndex(t);return i&&i.hasAttribute("disabled")},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=E(t),n.internalSetState((0,o.A)({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,i){t=E(t),n.internalSetState((0,o.A)({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),i)},n.selectItemAtIndex=function(e,t,i){var o=n.items[e];null!=o&&n.selectItem(o,t,i)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var i,r,a={},u="function"==typeof e;return!u&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,(0,o.A)({},n.getStateAndHelpers(),e)),n.setState(function(t){var s;t=n.getState(t);var l=u?e(t):e;l=n.props.stateReducer(t,l),i=l.hasOwnProperty("selectedItem");var c={};return i&&l.selectedItem!==t.selectedItem&&(r=l.selectedItem),(s=l).type||(s.type=0),Object.keys(l).forEach(function(e){t[e]!==l[e]&&(a[e]=l[e]),"type"!==e&&(l[e],D(n.props,e)||(c[e]=l[e]))}),u&&l.hasOwnProperty("inputValue")&&n.props.onInputValueChange(l.inputValue,(0,o.A)({},n.getStateAndHelpers(),l)),c},function(){p(t)(),Object.keys(a).length>1&&n.props.onStateChange(a,n.getStateAndHelpers()),i&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==r&&n.props.onChange(r,n.getStateAndHelpers()),n.props.onUserAction(a,n.getStateAndHelpers())})},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var r,a=void 0===e?{}:e,u=a.refKey,s=void 0===u?"ref":u,l=a.ref,c=(0,i.A)(a,L),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;n.getRootProps.called=!0,n.getRootProps.refKey=s,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return(0,o.A)(((r={})[s]=v(l,n.rootRef),r.role="combobox",r["aria-expanded"]=f,r["aria-haspopup"]="listbox",r["aria-owns"]=f?n.menuId:void 0,r["aria-labelledby"]=n.labelId,r),c)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},function(){var e=t.getItemCount();if(e>0){var n=k(t.getState().highlightedIndex,1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:4})}})},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},function(){var e=t.getItemCount();if(e>0){var n=k(t.getState().highlightedIndex,-1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:3})}})},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,i=t.highlightedIndex;if(n&&null!=i){e.preventDefault();var o=this.items[i],r=this.getItemNodeFromIndex(i);if(null==o||r&&r.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset((0,o.A)({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=(0,o.A)({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=(0,o.A)({},n.keyDownHandlers,{Home:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=O(0,!1,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:7})}}},End:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=O(n-1,!0,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:8})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,r=t.onClick;t.onPress;var a=t.onKeyDown,u=t.onKeyUp,s=t.onBlur,l=(0,i.A)(t,H),c=n.getState().isOpen,d={onClick:I(r,n.buttonHandleClick),onKeyDown:I(a,n.buttonHandleKeyDown),onKeyUp:I(u,n.buttonHandleKeyUp),onBlur:I(s,n.buttonHandleBlur)},p=l.disabled?{}:d;return(0,o.A)({type:"button",role:"button","aria-label":c?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},p,l)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=C(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(n,e)},n.buttonHandleClick=function(e){if(e.preventDefault(),n.props.environment){var t=n.props.environment.document,i=t.body,o=t.activeElement;i&&i===o&&e.target.focus()}n.internalSetTimeout(function(){return n.toggleMenu({type:13})})},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout(function(){if(!n.isMouseDown&&n.props.environment){var e=n.props.environment.document.activeElement;null!=e&&e.id===n.inputId||e===t||n.reset({type:14})}})},n.getLabelProps=function(e){return(0,o.A)({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,r=t.onKeyDown,a=t.onBlur,u=t.onChange,s=t.onInput;t.onChangeText;var l=(0,i.A)(t,K),c={};var d,p=n.getState(),f=p.inputValue,m=p.isOpen,h=p.highlightedIndex;l.disabled||((d={}).onChange=I(u,s,n.inputHandleChange),d.onKeyDown=I(r,n.inputHandleKeyDown),d.onBlur=I(a,n.inputHandleBlur),c=d);return(0,o.A)({"aria-autocomplete":"list","aria-activedescendant":m&&"number"==typeof h&&h>=0?n.getItemId(h):void 0,"aria-controls":m?n.menuId:void 0,"aria-labelledby":l&&l["aria-label"]?void 0:n.labelId,autoComplete:"off",value:f,id:n.inputId},c,l)},n.inputHandleKeyDown=function(e){var t=C(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(n,e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout(function(){var e;if(!n.isMouseDown&&n.props.environment){var t=n.props.environment.document.activeElement;(null==t||null==(e=t.dataset)?void 0:e.toggle)&&n._rootNode&&n._rootNode.contains(t)||n.reset({type:10})}})},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var r,a=void 0===e?{}:e,u=a.refKey,s=void 0===u?"ref":u,l=a.ref,c=(0,i.A)(a,B),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;return n.getMenuProps.called=!0,n.getMenuProps.refKey=s,n.getMenuProps.suppressRefError=p,(0,o.A)(((r={})[s]=v(l,n.menuRef),r.role="listbox",r["aria-labelledby"]=c&&c["aria-label"]?void 0:n.labelId,r.id=n.menuId,r),c)},n.getItemProps=function(e){var t,r=void 0===e?{}:e,a=r.onMouseMove,u=r.onMouseDown,s=r.onClick;r.onPress;var l=r.index,c=r.item,d=void 0===c?void 0:c,p=(0,i.A)(r,V);void 0===l?(n.items.push(d),l=n.items.indexOf(d)):n.items[l]=d;var f=s,m=((t={onMouseMove:I(a,function(){l!==n.getState().highlightedIndex&&(n.setHighlightedIndex(l,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout(function(){return n.avoidScrolling=!1},250))}),onMouseDown:I(u,function(e){e.preventDefault()})}).onClick=I(f,function(){n.selectItemAtIndex(l,{type:9})}),t),h=p.disabled?{onMouseDown:m.onMouseDown}:m;return(0,o.A)({id:n.getItemId(l),role:"option","aria-selected":n.getState().highlightedIndex===l},h,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=E(e),n.internalSetState(function(t){var i=t.selectedItem;return(0,o.A)({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(i)},e)},t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=E(e),n.internalSetState(function(t){var i=t.isOpen;return(0,o.A)({isOpen:!i},i&&{highlightedIndex:n.props.defaultHighlightedIndex},e)},function(){var i=n.getState(),o=i.isOpen,r=i.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof r&&n.setHighlightedIndex(r,e),p(t)()})},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=g(function(){var e;if(null!=(e=n.props)&&null!=(e=e.environment)&&e.document){var t=n.getState(),i=n.items[t.highlightedIndex],r=n.getItemCount(),a=n.props.getA11yStatusMessage((0,o.A)({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:i},t));n.previousResultCount=r,N(a,n.props.environment.document)}},200);var r=n.props,a=r.defaultHighlightedIndex,u=r.initialHighlightedIndex,s=void 0===u?a:u,l=r.defaultIsOpen,c=r.initialIsOpen,d=void 0===c?l:c,f=r.initialInputValue,m=void 0===f?"":f,h=r.initialSelectedItem,b=void 0===h?null:h,x=n.getState({highlightedIndex:s,isOpen:d,inputValue:m,selectedItem:b});return null!=x.selectedItem&&void 0===n.props.initialInputValue&&(x.inputValue=n.props.itemToString(x.selectedItem)),n.state=x,n}(0,r.A)(t,e);var n=t.prototype;return n.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},n.getState=function(e){return void 0===e&&(e=this.state),A(e,this.props)},n.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},n.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},n.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},n.moveHighlightedIndex=function(e,t){var n=this.getItemCount(),i=this.getState().highlightedIndex;if(n>0){var o=k(i,e,{length:n},this.isItemDisabled,!0);this.setHighlightedIndex(o,t)}},n.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,i=e.selectedItem,o=e.isOpen,r=this.props.itemToString,a=this.id,u=this.getRootProps,s=this.getToggleButtonProps,l=this.getLabelProps,c=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,m=this.closeMenu,h=this.toggleMenu,g=this.selectItem,I=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,b=this.clearSelection,x=this.clearItems;return{getRootProps:u,getToggleButtonProps:s,getLabelProps:l,getMenuProps:c,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:m,toggleMenu:h,selectItem:g,selectItemAtIndex:I,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:b,clearItems:x,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:r,id:a,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:i}},n.componentDidMount=function(){var e=this;if(this.props.environment){var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!M(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},i=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},r=function(t){var n=M(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},a=this.props.environment;a.addEventListener("mousedown",t),a.addEventListener("mouseup",n),a.addEventListener("touchstart",i),a.addEventListener("touchmove",o),a.addEventListener("touchend",r),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),a.removeEventListener("mousedown",t),a.removeEventListener("mouseup",n),a.removeEventListener("touchstart",i),a.removeEventListener("touchmove",o),a.removeEventListener("touchend",r)}}else this.cleanup=function(){e.internalClearTimeouts()}},n.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,i=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==i},n.componentDidUpdate=function(e,t){D(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},n.componentWillUnmount=function(){this.cleanup()},n.render=function(){var e=x(this.props.children,f);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var t=x(e(this.getStateAndHelpers()));return t?this.getRootProps.called||this.props.suppressRefError?t:S(t)?(0,s.cloneElement)(t,this.getRootProps(w(t))):void 0:null},t}(s.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:b,itemToString:function(e){return null==e?"":String(e)},onStateChange:f,onInputValueChange:f,onUserAction:f,onChange:f,onSelect:f,onOuterClick:f,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?void 0:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:m},e.stateChangeTypes=P,e}();var U={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function z(e,t,n){var i=e.props,r=e.type,a={};Object.keys(t).forEach(function(i){!function(e,t,n,i){var r=t.props,a=t.type,u="on"+q(e)+"Change";r[u]&&void 0!==i[e]&&i[e]!==n[e]&&r[u]((0,o.A)({type:a},i))}(i,e,t,n),n[i]!==t[i]&&(a[i]=n[i])}),i.onStateChange&&Object.keys(a).length&&i.onStateChange((0,o.A)({type:r},a))}var W=g(function(e,t){N(e,t)},200),j="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect,G="useId"in s?function(e){var t=e.id,n=e.labelId,i=e.menuId,o=e.getItemId,r=e.toggleButtonId,a=e.inputId,u="downshift-"+s.useId();return t||(t=u),(0,s.useRef)({labelId:n||t+"-label",menuId:i||t+"-menu",getItemId:o||function(e){return t+"-item-"+e},toggleButtonId:r||t+"-toggle-button",inputId:a||t+"-input"}).current}:function(e){var t=e.id,n=void 0===t?"downshift-"+y():t,i=e.labelId,o=e.menuId,r=e.getItemId,a=e.toggleButtonId,u=e.inputId;return(0,s.useRef)({labelId:i||n+"-label",menuId:o||n+"-menu",getItemId:r||function(e){return n+"-item-"+e},toggleButtonId:a||n+"-toggle-button",inputId:u||n+"-input"}).current};function Y(e,t,n,i){var o,r;if(void 0===e){if(void 0===t)throw new Error(i);o=n[t],r=t}else r=void 0===t?n.indexOf(e):t,o=e;return[o,r]}function q(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function X(e){var t=(0,s.useRef)(e);return t.current=e,t}function $(e,t,n,i){var r=(0,s.useRef)(),a=(0,s.useRef)(),u=(0,s.useCallback)(function(t,n){a.current=n,t=A(t,n.props);var i=e(t,n);return n.props.stateReducer(t,(0,o.A)({},n,{changes:i}))},[e]),l=(0,s.useReducer)(u,t,n),c=l[0],d=l[1],p=X(t),f=(0,s.useCallback)(function(e){return d((0,o.A)({props:p.current},e))},[p]),m=a.current;return(0,s.useEffect)(function(){var e=A(r.current,null==m?void 0:m.props);m&&r.current&&!i(e,c)&&z(m,e,c),r.current=c},[c,m,i]),[c,f]}function Z(e,t,n,i){var o=$(e,t,n,i),r=o[0],a=o[1];return[A(r,t),a]}var J={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:m,environment:"undefined"==typeof window?void 0:window};function Q(e,t,n){void 0===n&&(n=U);var i=e["default"+q(t)];return void 0!==i?i:n[t]}function ee(e,t,n){void 0===n&&(n=U);var i=e[t];if(void 0!==i)return i;var o=e["initial"+q(t)];return void 0!==o?o:Q(e,t,n)}function te(e){var t=ee(e,"selectedItem"),n=ee(e,"isOpen"),i=function(e){var t=ee(e,"highlightedIndex");if(t>-1&&e.isItemDisabled(e.items[t],t))return-1;return t}(e),o=ee(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(n){return e.itemToKey(n)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:o}}function ne(e,t,n){var i=e.items,o=e.initialHighlightedIndex,r=e.defaultHighlightedIndex,a=e.isItemDisabled,u=e.itemToKey,s=t.selectedItem,l=t.highlightedIndex;return 0===i.length?-1:void 0===o||l!==o||a(i[o],o)?void 0===r||a(i[r],r)?s?i.findIndex(function(e){return u(s)===u(e)}):n<0&&!a(i[i.length-1],i.length-1)?i.length-1:n>0&&!a(i[0],0)?0:-1:r:o}function ie(e,t,n){var i=(0,s.useRef)({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return(0,s.useEffect)(function(){if(!e)return f;var o=n.map(function(e){return e.current});function r(){i.current.isTouchEnd=!1,i.current.isMouseDown=!0}function a(n){i.current.isMouseDown=!1,M(n.target,o,e)||t()}function u(){i.current.isTouchEnd=!1,i.current.isTouchMove=!1}function s(){i.current.isTouchMove=!0}function l(n){i.current.isTouchEnd=!0,i.current.isTouchMove||M(n.target,o,e,!1)||t()}return e.addEventListener("mousedown",r),e.addEventListener("mouseup",a),e.addEventListener("touchstart",u),e.addEventListener("touchmove",s),e.addEventListener("touchend",l),function(){e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",s),e.removeEventListener("touchend",l)}},[n,e,t]),i.current}var oe=function(){return f};function re(e,t,n,i){void 0===i&&(i={});var o=i.document,r=ce();(0,s.useEffect)(function(){if(e&&!r&&o){var n=e(t);W(n,o)}},n),(0,s.useEffect)(function(){return function(){var e,t;W.cancel(),(t=null==(e=o)?void 0:e.getElementById("a11y-status-message"))&&t.remove()}},[o])}function ae(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,o=e.getItemNodeFromIndex,r=e.menuElement,a=e.scrollIntoView,u=(0,s.useRef)(!0);return j(function(){t<0||!n||!Object.keys(i.current).length||(!1===u.current?u.current=!0:a(o(t),r))},[t]),u}var ue=f;function se(e,t,n){var i;void 0===n&&(n=!0);var r=(null==(i=e.items)?void 0:i.length)&&t>=0;return(0,o.A)({isOpen:!1,highlightedIndex:-1},r&&(0,o.A)({selectedItem:e.items[t],isOpen:Q(e,"isOpen"),highlightedIndex:Q(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function le(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function ce(){var e=s.useRef(!0);return s.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function de(e){var t=Q(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var pe={environment:u().shape({addEventListener:u().func.isRequired,removeEventListener:u().func.isRequired,document:u().shape({createElement:u().func.isRequired,getElementById:u().func.isRequired,activeElement:u().any.isRequired,body:u().any.isRequired}).isRequired,Node:u().func.isRequired}),itemToString:u().func,itemToKey:u().func,stateReducer:u().func},fe=(0,o.A)({},pe,{getA11yStatusMessage:u().func,highlightedIndex:u().number,defaultHighlightedIndex:u().number,initialHighlightedIndex:u().number,isOpen:u().bool,defaultIsOpen:u().bool,initialIsOpen:u().bool,selectedItem:u().any,initialSelectedItem:u().any,defaultSelectedItem:u().any,id:u().string,labelId:u().string,menuId:u().string,getItemId:u().func,toggleButtonId:u().string,onSelectedItemChange:u().func,onHighlightedIndexChange:u().func,onStateChange:u().func,onIsOpenChange:u().func,scrollIntoView:u().func});function me(e,t,n){var i,r=t.type,a=t.props;switch(r){case n.ItemMouseMove:i={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:i={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ne(a,e,0)};break;case n.FunctionOpenMenu:i={isOpen:!0,highlightedIndex:ne(a,e,0)};break;case n.FunctionCloseMenu:i={isOpen:!1};break;case n.FunctionSetHighlightedIndex:i={highlightedIndex:a.isItemDisabled(a.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:i={inputValue:t.inputValue};break;case n.FunctionReset:i={highlightedIndex:de(a),isOpen:Q(a,"isOpen"),selectedItem:Q(a,"selectedItem"),inputValue:Q(a,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return(0,o.A)({},e,i)}(0,c.Cl)((0,c.Cl)({},fe),{items:u().array.isRequired,isItemDisabled:u().func});var he=(0,c.Cl)((0,c.Cl)({},J),{isItemDisabled:function(){return!1}}),ge=f;var Ie=0,ve=1,ye=2,be=3,xe=4,Se=5,we=6,Te=7,Ee=8,Ae=9,De=10,Ce=11,ke=12,Oe=13,Me=14,Re=15,_e=16,Ne=17,Pe=18,Le=19,He=20,Ke=21,Be=Object.freeze({__proto__:null,FunctionCloseMenu:Ne,FunctionOpenMenu:_e,FunctionReset:Ke,FunctionSelectItem:Le,FunctionSetHighlightedIndex:Pe,FunctionSetInputValue:He,FunctionToggleMenu:Re,ItemClick:Me,ItemMouseMove:Oe,MenuMouseLeave:ke,ToggleButtonBlur:Ce,ToggleButtonClick:Ie,ToggleButtonKeyDownArrowDown:ve,ToggleButtonKeyDownArrowUp:ye,ToggleButtonKeyDownCharacter:be,ToggleButtonKeyDownEnd:we,ToggleButtonKeyDownEnter:Te,ToggleButtonKeyDownEscape:xe,ToggleButtonKeyDownHome:Se,ToggleButtonKeyDownPageDown:De,ToggleButtonKeyDownPageUp:Ae,ToggleButtonKeyDownSpaceButton:Ee});function Ve(e,t){var n,i,r=t.type,a=t.props,u=t.altKey;switch(r){case Me:i={isOpen:Q(a,"isOpen"),highlightedIndex:de(a),selectedItem:a.items[t.index]};break;case be:var s=t.key,l=""+e.inputValue+s;i={inputValue:l,highlightedIndex:function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,o=e.itemToString,r=e.isItemDisabled,a=t.toLowerCase(),u=0;u<i.length;u++){var s=(u+n+(t.length<2?1:0))%i.length,l=i[s];if(void 0!==l&&o(l).toLowerCase().startsWith(a)&&!r(l,s))return s}return n}({keysSoFar:l,highlightedIndex:!e.isOpen&&e.selectedItem?a.items.findIndex(function(t){return a.itemToKey(t)===a.itemToKey(e.selectedItem)}):e.highlightedIndex,items:a.items,itemToString:a.itemToString,isItemDisabled:a.isItemDisabled}),isOpen:!0};break;case ve:i={highlightedIndex:e.isOpen?k(e.highlightedIndex,1,a.items,a.isItemDisabled):u&&null==e.selectedItem?-1:ne(a,e,1),isOpen:!0};break;case ye:if(e.isOpen&&u)i=se(a,e.highlightedIndex,!1);else i={highlightedIndex:e.isOpen?k(e.highlightedIndex,-1,a.items,a.isItemDisabled):ne(a,e,-1),isOpen:!0};break;case Te:case Ee:i=se(a,e.highlightedIndex,!1);break;case Se:i={highlightedIndex:O(0,!1,a.items,a.isItemDisabled),isOpen:!0};break;case we:i={highlightedIndex:O(a.items.length-1,!0,a.items,a.isItemDisabled),isOpen:!0};break;case Ae:i={highlightedIndex:k(e.highlightedIndex,-10,a.items,a.isItemDisabled)};break;case De:i={highlightedIndex:k(e.highlightedIndex,10,a.items,a.isItemDisabled)};break;case xe:i={isOpen:!1,highlightedIndex:-1};break;case Ce:i=(0,o.A)({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=a.items)?void 0:n.length)&&{selectedItem:a.items[e.highlightedIndex]});break;case Le:i={selectedItem:t.selectedItem};break;default:return me(e,t,Be)}return(0,o.A)({},e,i)}var Fe=["onClick"],Ue=["onMouseLeave","refKey","ref"],ze=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],We=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];function je(e){void 0===e&&(e={}),ge(e,je);var t=(0,o.A)({},he,e),n=t.scrollIntoView,r=t.environment,a=t.getA11yStatusMessage,u=Z(Ve,t,te,le),l=u[0],c=u[1],d=l.isOpen,p=l.highlightedIndex,f=l.selectedItem,m=l.inputValue,h=(0,s.useRef)(null),y=(0,s.useRef)(null),b=(0,s.useRef)({}),x=(0,s.useRef)(null),S=G(t),w=X({state:l,props:t}),T=(0,s.useCallback)(function(e){return b.current[S.getItemId(e)]},[S]);re(a,l,[d,p,f,m],r);var E=ae({menuElement:y.current,highlightedIndex:p,isOpen:d,itemRefs:b,scrollIntoView:n,getItemNodeFromIndex:T});(0,s.useEffect)(function(){return x.current=g(function(e){e({type:He,inputValue:""})},500),function(){x.current.cancel()}},[]),(0,s.useEffect)(function(){m&&x.current(c)},[c,m]),ue({props:t,state:l}),(0,s.useEffect)(function(){ee(t,"isOpen")&&h.current&&h.current.focus()},[]);var A=ie(r,(0,s.useCallback)(function(){w.current.state.isOpen&&c({type:Ce})},[c,w]),(0,s.useMemo)(function(){return[y,h]},[y.current,h.current])),D=oe("getMenuProps","getToggleButtonProps");(0,s.useEffect)(function(){d||(b.current={})},[d]);var k=(0,s.useMemo)(function(){return{ArrowDown:function(e){e.preventDefault(),c({type:ve,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),c({type:ye,altKey:e.altKey})},Home:function(e){e.preventDefault(),c({type:Se})},End:function(e){e.preventDefault(),c({type:we})},Escape:function(){w.current.state.isOpen&&c({type:xe})},Enter:function(e){e.preventDefault(),c({type:w.current.state.isOpen?Te:Ie})},PageUp:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:Ae}))},PageDown:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:De}))}," ":function(e){e.preventDefault();var t=w.current.state;t.isOpen?t.inputValue?c({type:be,key:" "}):c({type:Ee}):c({type:Ie})}}},[c,w]),O=(0,s.useCallback)(function(){c({type:Re})},[c]),M=(0,s.useCallback)(function(){c({type:Ne})},[c]),R=(0,s.useCallback)(function(){c({type:_e})},[c]),_=(0,s.useCallback)(function(e){c({type:Pe,highlightedIndex:e})},[c]),N=(0,s.useCallback)(function(e){c({type:Le,selectedItem:e})},[c]),P=(0,s.useCallback)(function(){c({type:Ke})},[c]),L=(0,s.useCallback)(function(e){c({type:He,inputValue:e})},[c]),H=(0,s.useCallback)(function(e){var t=void 0===e?{}:e,n=t.onClick,r=(0,i.A)(t,Fe);return(0,o.A)({id:S.labelId,htmlFor:S.toggleButtonId,onClick:I(n,function(){var e;null==(e=h.current)||e.focus()})},r)},[S]),K=(0,s.useCallback)(function(e,t){var n,r=void 0===e?{}:e,a=r.onMouseLeave,u=r.refKey,s=void 0===u?"ref":u,l=r.ref,d=(0,i.A)(r,Ue),p=(void 0===t?{}:t).suppressRefError;return D("getMenuProps",void 0!==p&&p,s,y),(0,o.A)(((n={})[s]=v(l,function(e){y.current=e}),n.id=S.menuId,n.role="listbox",n["aria-labelledby"]=d&&d["aria-label"]?void 0:""+S.labelId,n.onMouseLeave=I(a,function(){c({type:ke})}),n),d)},[c,D,S]);return{getToggleButtonProps:(0,s.useCallback)(function(e,t){var n,r=void 0===e?{}:e,a=r.onBlur,u=r.onClick;r.onPress;var s=r.onKeyDown,l=r.refKey,d=void 0===l?"ref":l,p=r.ref,f=(0,i.A)(r,ze),m=(void 0===t?{}:t).suppressRefError,g=void 0!==m&&m,y=w.current.state,b=(0,o.A)(((n={})[d]=v(p,function(e){h.current=e}),n["aria-activedescendant"]=y.isOpen&&y.highlightedIndex>-1?S.getItemId(y.highlightedIndex):"",n["aria-controls"]=S.menuId,n["aria-expanded"]=w.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=f&&f["aria-label"]?void 0:""+S.labelId,n.id=S.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=I(a,function(){y.isOpen&&!A.isMouseDown&&c({type:Ce})}),n),f);return f.disabled||(b.onClick=I(u,function(){c({type:Ie})}),b.onKeyDown=I(s,function(e){var t=C(e);t&&k[t]?k[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&c({type:be,key:t})})),D("getToggleButtonProps",g,d,h),b},[c,S,w,A,D,k]),getLabelProps:H,getMenuProps:K,getItemProps:(0,s.useCallback)(function(e){var t,n=void 0===e?{}:e,r=n.item,a=n.index,u=n.onMouseMove,s=n.onClick,l=n.onMouseDown;n.onPress;var d=n.refKey,p=void 0===d?"ref":d,f=(n.disabled,n.ref),m=(0,i.A)(n,We),h=w.current,g=h.state,y=h.props,x=Y(r,a,y.items,"Pass either item or index to getItemProps!"),T=x[0],D=x[1],C=y.isItemDisabled(T,D),k=(0,o.A)(((t={})[p]=v(f,function(e){e&&(b.current[S.getItemId(D)]=e)}),t["aria-disabled"]=C,t["aria-selected"]=T===g.selectedItem,t.id=S.getItemId(D),t.role="option",t),m);return C||(k.onClick=I(s,function(){c({type:Me,index:D})})),k.onMouseMove=I(u,function(){A.isTouchEnd||D===g.highlightedIndex||(E.current=!1,c({type:Oe,index:D,disabled:C}))}),k.onMouseDown=I(l,function(e){return e.preventDefault()}),k},[w,S,A,E,c]),toggleMenu:O,openMenu:R,closeMenu:M,setHighlightedIndex:_,selectItem:N,reset:P,setInputValue:L,highlightedIndex:p,isOpen:d,selectedItem:f,inputValue:m}}je.stateChangeTypes=Be;var Ge=0,Ye=1,qe=2,Xe=3,$e=4,Ze=5,Je=6,Qe=7,et=8,tt=9,nt=10,it=11,ot=12,rt=13,at=14,ut=15,st=16,lt=17,ct=18,dt=19,pt=20,ft=21,mt=22,ht=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:mt,FunctionCloseMenu:lt,FunctionOpenMenu:st,FunctionReset:ft,FunctionSelectItem:dt,FunctionSetHighlightedIndex:ct,FunctionSetInputValue:pt,FunctionToggleMenu:ut,InputBlur:tt,InputChange:et,InputClick:nt,InputKeyDownArrowDown:Ge,InputKeyDownArrowUp:Ye,InputKeyDownEnd:$e,InputKeyDownEnter:Qe,InputKeyDownEscape:qe,InputKeyDownHome:Xe,InputKeyDownPageDown:Je,InputKeyDownPageUp:Ze,ItemClick:rt,ItemMouseMove:ot,MenuMouseLeave:it,ToggleButtonClick:at});function gt(e){var t=te(e),n=t.selectedItem,i=t.inputValue;return""===i&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(i=e.itemToString(n)),(0,o.A)({},t,{inputValue:i})}(0,o.A)({},fe,{items:u().array.isRequired,isItemDisabled:u().func,inputValue:u().string,defaultInputValue:u().string,initialInputValue:u().string,inputId:u().string,onInputValueChange:u().func});var It=f;var vt=(0,o.A)({},J,{isItemDisabled:function(){return!1}});function yt(e,t){var n,i,r=t.type,a=t.props,u=t.altKey;switch(r){case rt:i={isOpen:Q(a,"isOpen"),highlightedIndex:de(a),selectedItem:a.items[t.index],inputValue:a.itemToString(a.items[t.index])};break;case Ge:i=e.isOpen?{highlightedIndex:k(e.highlightedIndex,1,a.items,a.isItemDisabled,!0)}:{highlightedIndex:u&&null==e.selectedItem?-1:ne(a,e,1),isOpen:a.items.length>=0};break;case Ye:i=e.isOpen?u?se(a,e.highlightedIndex):{highlightedIndex:k(e.highlightedIndex,-1,a.items,a.isItemDisabled,!0)}:{highlightedIndex:ne(a,e,-1),isOpen:a.items.length>=0};break;case Qe:i=se(a,e.highlightedIndex);break;case qe:i=(0,o.A)({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Ze:i={highlightedIndex:k(e.highlightedIndex,-10,a.items,a.isItemDisabled,!0)};break;case Je:i={highlightedIndex:k(e.highlightedIndex,10,a.items,a.isItemDisabled,!0)};break;case Xe:i={highlightedIndex:O(0,!1,a.items,a.isItemDisabled)};break;case $e:i={highlightedIndex:O(a.items.length-1,!0,a.items,a.isItemDisabled)};break;case tt:i=(0,o.A)({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=a.items)?void 0:n.length)&&t.selectItem&&{selectedItem:a.items[e.highlightedIndex],inputValue:a.itemToString(a.items[e.highlightedIndex])});break;case et:i={isOpen:!0,highlightedIndex:de(a),inputValue:t.inputValue};break;case nt:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ne(a,e,0)};break;case dt:i={selectedItem:t.selectedItem,inputValue:a.itemToString(t.selectedItem)};break;case mt:i={inputValue:t.inputValue};break;default:return me(e,t,ht)}return(0,o.A)({},e,i)}var bt=["onMouseLeave","refKey","ref"],xt=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],St=["onClick","onPress","refKey","ref"],wt=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function Tt(e){void 0===e&&(e={}),It(e,Tt);var t=(0,o.A)({},vt,e),n=t.items,r=t.scrollIntoView,a=t.environment,u=t.getA11yStatusMessage,l=function(e,t,n,i){var o=(0,s.useRef)(),r=$(e,t,n,i),a=r[0],u=r[1],l=ce();return(0,s.useEffect)(function(){D(t,"selectedItem")&&(l||t.itemToKey(t.selectedItem)!==t.itemToKey(o.current)&&u({type:mt,inputValue:t.itemToString(t.selectedItem)}),o.current=a.selectedItem===o.current?t.selectedItem:a.selectedItem)},[a.selectedItem,t.selectedItem]),[A(a,t),u]}(yt,t,gt,le),c=l[0],d=l[1],p=c.isOpen,f=c.highlightedIndex,m=c.selectedItem,h=c.inputValue,g=(0,s.useRef)(null),y=(0,s.useRef)({}),b=(0,s.useRef)(null),x=(0,s.useRef)(null),S=ce(),w=G(t),T=(0,s.useRef)(),E=X({state:c,props:t}),k=(0,s.useCallback)(function(e){return y.current[w.getItemId(e)]},[w]);re(u,c,[p,f,m,h],a);var O=ae({menuElement:g.current,highlightedIndex:f,isOpen:p,itemRefs:y,scrollIntoView:r,getItemNodeFromIndex:k});ue({props:t,state:c}),(0,s.useEffect)(function(){ee(t,"isOpen")&&b.current&&b.current.focus()},[]),(0,s.useEffect)(function(){S||(T.current=n.length)});var M=ie(a,(0,s.useCallback)(function(){E.current.state.isOpen&&d({type:tt,selectItem:!1})},[d,E]),(0,s.useMemo)(function(){return[g,x,b]},[g.current,x.current,b.current])),R=oe("getInputProps","getMenuProps");(0,s.useEffect)(function(){p||(y.current={})},[p]),(0,s.useEffect)(function(){var e;p&&null!=a&&a.document&&null!=b&&null!=(e=b.current)&&e.focus&&a.document.activeElement!==b.current&&b.current.focus()},[p,a]);var _=(0,s.useMemo)(function(){return{ArrowDown:function(e){e.preventDefault(),d({type:Ge,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),d({type:Ye,altKey:e.altKey})},Home:function(e){E.current.state.isOpen&&(e.preventDefault(),d({type:Xe}))},End:function(e){E.current.state.isOpen&&(e.preventDefault(),d({type:$e}))},Escape:function(e){var t=E.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),d({type:qe}))},Enter:function(e){E.current.state.isOpen&&229!==e.which&&(e.preventDefault(),d({type:Qe}))},PageUp:function(e){E.current.state.isOpen&&(e.preventDefault(),d({type:Ze}))},PageDown:function(e){E.current.state.isOpen&&(e.preventDefault(),d({type:Je}))}}},[d,E]),N=(0,s.useCallback)(function(e){return(0,o.A)({id:w.labelId,htmlFor:w.inputId},e)},[w]),P=(0,s.useCallback)(function(e,t){var n,r=void 0===e?{}:e,a=r.onMouseLeave,u=r.refKey,s=void 0===u?"ref":u,l=r.ref,c=(0,i.A)(r,bt),p=(void 0===t?{}:t).suppressRefError;return R("getMenuProps",void 0!==p&&p,s,g),(0,o.A)(((n={})[s]=v(l,function(e){g.current=e}),n.id=w.menuId,n.role="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+w.labelId,n.onMouseLeave=I(a,function(){d({type:it})}),n),c)},[d,R,w]),L=(0,s.useCallback)(function(e){var t,n,r=void 0===e?{}:e,a=r.item,u=r.index,s=r.refKey,l=void 0===s?"ref":s,c=r.ref,p=r.onMouseMove,f=r.onMouseDown,m=r.onClick;r.onPress;r.disabled;var h=(0,i.A)(r,xt),g=E.current,b=g.props,x=g.state,S=Y(a,u,b.items,"Pass either item or index to getItemProps!"),T=S[0],A=S[1],D=b.isItemDisabled(T,A),C=m;return(0,o.A)(((t={})[l]=v(c,function(e){e&&(y.current[w.getItemId(A)]=e)}),t["aria-disabled"]=D,t["aria-selected"]=A===x.highlightedIndex,t.id=w.getItemId(A),t.role="option",t),!D&&((n={}).onClick=I(C,function(){d({type:rt,index:A})}),n),{onMouseMove:I(p,function(){M.isTouchEnd||A===x.highlightedIndex||(O.current=!1,d({type:ot,index:A,disabled:D}))}),onMouseDown:I(f,function(e){return e.preventDefault()})},h)},[d,w,E,M,O]),H=(0,s.useCallback)(function(e){var t,n=void 0===e?{}:e,r=n.onClick;n.onPress;var a=n.refKey,u=void 0===a?"ref":a,s=n.ref,l=(0,i.A)(n,St),c=E.current.state;return(0,o.A)(((t={})[u]=v(s,function(e){x.current=e}),t["aria-controls"]=w.menuId,t["aria-expanded"]=c.isOpen,t.id=w.toggleButtonId,t.tabIndex=-1,t),!l.disabled&&(0,o.A)({},{onClick:I(r,function(){d({type:at})})}),l)},[d,E,w]),K=(0,s.useCallback)(function(e,t){var n,r=void 0===e?{}:e,u=r.onKeyDown,s=r.onChange,l=r.onInput,c=r.onBlur;r.onChangeText;var p=r.onClick,f=r.refKey,m=void 0===f?"ref":f,h=r.ref,g=(0,i.A)(r,wt),y=(void 0===t?{}:t).suppressRefError;R("getInputProps",void 0!==y&&y,m,b);var x,S=E.current.state,T={};g.disabled||((x={}).onChange=I(s,l,function(e){d({type:et,inputValue:e.target.value})}),x.onKeyDown=I(u,function(e){var t=C(e);t&&_[t]&&_[t](e)}),x.onBlur=I(c,function(e){if(null!=a&&a.document&&S.isOpen&&!M.isMouseDown){var t=null===e.relatedTarget&&a.document.activeElement!==a.document.body;d({type:tt,selectItem:!t})}}),x.onClick=I(p,function(){d({type:nt})}),T=x);return(0,o.A)(((n={})[m]=v(h,function(e){b.current=e}),n["aria-activedescendant"]=S.isOpen&&S.highlightedIndex>-1?w.getItemId(S.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=w.menuId,n["aria-expanded"]=S.isOpen,n["aria-labelledby"]=g&&g["aria-label"]?void 0:w.labelId,n.autoComplete="off",n.id=w.inputId,n.role="combobox",n.value=S.inputValue,n),T,g)},[d,w,a,_,E,M,R]),B=(0,s.useCallback)(function(){d({type:ut})},[d]),V=(0,s.useCallback)(function(){d({type:lt})},[d]),F=(0,s.useCallback)(function(){d({type:st})},[d]),U=(0,s.useCallback)(function(e){d({type:ct,highlightedIndex:e})},[d]),z=(0,s.useCallback)(function(e){d({type:dt,selectedItem:e})},[d]);return{getItemProps:L,getLabelProps:N,getMenuProps:P,getInputProps:K,getToggleButtonProps:H,toggleMenu:B,openMenu:F,closeMenu:V,setHighlightedIndex:U,setInputValue:(0,s.useCallback)(function(e){d({type:pt,inputValue:e})},[d]),selectItem:z,reset:(0,s.useCallback)(function(){d({type:ft})},[d]),highlightedIndex:f,isOpen:p,selectedItem:m,inputValue:h}}Tt.stateChangeTypes=ht;var Et={activeIndex:-1,selectedItems:[]};function At(e,t){return ee(e,t,Et)}function Dt(e,t){return Q(e,t,Et)}function Ct(e){return{activeIndex:At(e,"activeIndex"),selectedItems:At(e,"selectedItems")}}function kt(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}function Ot(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}u().array,u().array,u().array,u().func,u().number,u().number,u().number,u().func,u().func,u().string,u().string;var Mt={itemToKey:J.itemToKey,stateReducer:J.stateReducer,environment:J.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Rt=f;var _t=0,Nt=1,Pt=2,Lt=3,Ht=4,Kt=5,Bt=6,Vt=7,Ft=8,Ut=9,zt=10,Wt=11,jt=12,Gt=Object.freeze({__proto__:null,DropdownClick:Vt,DropdownKeyDownBackspace:Bt,DropdownKeyDownNavigationPrevious:Kt,FunctionAddSelectedItem:Ft,FunctionRemoveSelectedItem:Ut,FunctionReset:jt,FunctionSetActiveIndex:Wt,FunctionSetSelectedItems:zt,SelectedItemClick:_t,SelectedItemKeyDownBackspace:Pt,SelectedItemKeyDownDelete:Nt,SelectedItemKeyDownNavigationNext:Lt,SelectedItemKeyDownNavigationPrevious:Ht});function Yt(e,t){var n,i=t.type,r=t.index,a=t.props,u=t.selectedItem,s=e.activeIndex,l=e.selectedItems;switch(i){case _t:n={activeIndex:r};break;case Ht:n={activeIndex:s-1<0?0:s-1};break;case Lt:n={activeIndex:s+1>=l.length?-1:s+1};break;case Pt:case Nt:if(s<0)break;var c=s;1===l.length?c=-1:s===l.length-1&&(c=l.length-2),n=(0,o.A)({selectedItems:[].concat(l.slice(0,s),l.slice(s+1))},{activeIndex:c});break;case Kt:n={activeIndex:l.length-1};break;case Bt:n={selectedItems:l.slice(0,l.length-1)};break;case Ft:n={selectedItems:[].concat(l,[u])};break;case Vt:n={activeIndex:-1};break;case Ut:var d=s,p=l.findIndex(function(e){return a.itemToKey(e)===a.itemToKey(u)});if(p<0)break;1===l.length?d=-1:p===l.length-1&&(d=l.length-2),n={selectedItems:[].concat(l.slice(0,p),l.slice(p+1)),activeIndex:d};break;case zt:n={selectedItems:t.selectedItems};break;case Wt:n={activeIndex:t.activeIndex};break;case jt:n={activeIndex:Dt(a,"activeIndex"),selectedItems:Dt(a,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return(0,o.A)({},e,n)}var qt=["refKey","ref","onClick","onKeyDown","selectedItem","index"],Xt=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function $t(e){void 0===e&&(e={}),Rt(e,$t);var t=(0,o.A)({},Mt,e),n=t.getA11yStatusMessage,r=t.environment,a=t.keyNavigationNext,u=t.keyNavigationPrevious,l=Z(Yt,t,Ct,Ot),c=l[0],d=l[1],p=c.activeIndex,f=c.selectedItems,m=ce(),h=(0,s.useRef)(null),g=(0,s.useRef)();g.current=[];var y=X({state:c,props:t});re(n,c,[p,f],r),(0,s.useEffect)(function(){m||(-1===p&&h.current?h.current.focus():g.current[p]&&g.current[p].focus())},[p]),ue({props:t,state:c});var b=oe("getDropdownProps"),x=(0,s.useMemo)(function(){var e;return(e={})[u]=function(){d({type:Ht})},e[a]=function(){d({type:Lt})},e.Delete=function(){d({type:Nt})},e.Backspace=function(){d({type:Pt})},e},[d,a,u]),S=(0,s.useMemo)(function(){var e;return(e={})[u]=function(e){kt(e)&&d({type:Kt})},e.Backspace=function(e){kt(e)&&d({type:Bt})},e},[d,u]);return{getSelectedItemProps:(0,s.useCallback)(function(e){var t,n=void 0===e?{}:e,r=n.refKey,a=void 0===r?"ref":r,u=n.ref,s=n.onClick,l=n.onKeyDown,c=n.selectedItem,p=n.index,f=(0,i.A)(n,qt),m=y.current.state,h=Y(c,p,m.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],b=h>-1&&h===m.activeIndex;return(0,o.A)(((t={})[a]=v(u,function(e){e&&g.current.push(e)}),t.tabIndex=b?0:-1,t.onClick=I(s,function(){d({type:_t,index:h})}),t.onKeyDown=I(l,function(e){var t=C(e);t&&x[t]&&x[t](e)}),t),f)},[d,y,x]),getDropdownProps:(0,s.useCallback)(function(e,t){var n,r=void 0===e?{}:e,a=r.refKey,u=void 0===a?"ref":a,s=r.ref,l=r.onKeyDown,c=r.onClick,p=r.preventKeyAction,f=void 0!==p&&p,m=(0,i.A)(r,Xt),g=(void 0===t?{}:t).suppressRefError;b("getDropdownProps",void 0!==g&&g,u,h);return(0,o.A)(((n={})[u]=v(s,function(e){e&&(h.current=e)}),n),!f&&{onKeyDown:I(l,function(e){var t=C(e);t&&S[t]&&S[t](e)}),onClick:I(c,function(){d({type:Vt})})},m)},[d,S,b]),addSelectedItem:(0,s.useCallback)(function(e){d({type:Ft,selectedItem:e})},[d]),removeSelectedItem:(0,s.useCallback)(function(e){d({type:Ut,selectedItem:e})},[d]),setSelectedItems:(0,s.useCallback)(function(e){d({type:zt,selectedItems:e})},[d]),setActiveIndex:(0,s.useCallback)(function(e){d({type:Wt,activeIndex:e})},[d]),reset:(0,s.useCallback)(function(){d({type:jt})},[d]),selectedItems:f,activeIndex:p}}$t.stateChangeTypes=Gt},19646:function(e,t,n){n.d(t,{A:function(){return ue}});const{entries:i,setPrototypeOf:o,isFrozen:r,getPrototypeOf:a,getOwnPropertyDescriptor:u}=Object;let{freeze:s,seal:l,create:c}=Object,{apply:d,construct:p}="undefined"!=typeof Reflect&&Reflect;s||(s=function(e){return e}),l||(l=function(e){return e}),d||(d=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});const f=C(Array.prototype.forEach),m=C(Array.prototype.lastIndexOf),h=C(Array.prototype.pop),g=C(Array.prototype.push),I=C(Array.prototype.splice),v=C(String.prototype.toLowerCase),y=C(String.prototype.toString),b=C(String.prototype.match),x=C(String.prototype.replace),S=C(String.prototype.indexOf),w=C(String.prototype.trim),T=C(Object.prototype.hasOwnProperty),E=C(RegExp.prototype.test),A=(D=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(D,t)});var D;function C(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return d(e,t,i)}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;o&&o(e,null);let i=t.length;for(;i--;){let o=t[i];if("string"==typeof o){const e=n(o);e!==o&&(r(t)||(t[i]=e),o=e)}e[o]=!0}return e}function O(e){for(let t=0;t<e.length;t++){T(e,t)||(e[t]=null)}return e}function M(e){const t=c(null);for(const[n,o]of i(e)){T(e,n)&&(Array.isArray(o)?t[n]=O(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=M(o):t[n]=o)}return t}function R(e,t){for(;null!==e;){const n=u(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=a(e)}return function(){return null}}const _=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=s(["#text"]),V=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),j=l(/<%[\w\W]*|[\w\W]*%>/gm),G=l(/\$\{[\w\W]*/gm),Y=l(/^data-[\-\w.\u00B7-\uFFFF]+$/),q=l(/^aria-[\-\w]+$/),X=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=l(/^(?:\w+script|data):/i),Z=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=l(/^html$/i),Q=l(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:q,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:Q,DATA_ATTR:Y,DOCTYPE_NAME:J,ERB_EXPR:j,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:$,MUSTACHE_EXPR:W,TMPLIT_EXPR:G});const te=1,ne=3,ie=7,oe=8,re=9,ae=function(){return"undefined"==typeof window?null:window};var ue=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||t.document.nodeType!==re||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:u,HTMLTemplateElement:l,Node:d,Element:p,NodeFilter:D,NamedNodeMap:C=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:O,DOMParser:W,trustedTypes:j}=t,G=p.prototype,Y=R(G,"cloneNode"),q=R(G,"remove"),$=R(G,"nextSibling"),Z=R(G,"childNodes"),Q=R(G,"parentNode");if("function"==typeof l){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ue,se="";const{implementation:le,createNodeIterator:ce,createDocumentFragment:de,getElementsByTagName:pe}=o,{importNode:fe}=r;let me={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof i&&"function"==typeof Q&&le&&void 0!==le.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:Ie,DATA_ATTR:ve,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:be,ATTR_WHITESPACE:xe,CUSTOM_ELEMENT:Se}=ee;let{IS_ALLOWED_URI:we}=ee,Te=null;const Ee=k({},[..._,...N,...P,...H,...B]);let Ae=null;const De=k({},[...V,...F,...U,...z]);let Ce=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,Oe=null,Me=!0,Re=!0,_e=!1,Ne=!0,Pe=!1,Le=!0,He=!1,Ke=!1,Be=!1,Ve=!1,Fe=!1,Ue=!1,ze=!0,We=!1,je=!0,Ge=!1,Ye={},qe=null;const Xe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const Ze=k({},["audio","video","img","source","image","track"]);let Je=null;const Qe=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let it=nt,ot=!1,rt=null;const at=k({},[et,tt,nt],y);let ut=k({},["mi","mo","mn","ms","mtext"]),st=k({},["annotation-xml"]);const lt=k({},["title","style","font","a","script"]);let ct=null;const dt=["application/xhtml+xml","text/html"];let pt=null,ft=null;const mt=o.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&"object"==typeof e||(e={}),e=M(e),ct=-1===dt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,pt="application/xhtml+xml"===ct?y:v,Te=T(e,"ALLOWED_TAGS")?k({},e.ALLOWED_TAGS,pt):Ee,Ae=T(e,"ALLOWED_ATTR")?k({},e.ALLOWED_ATTR,pt):De,rt=T(e,"ALLOWED_NAMESPACES")?k({},e.ALLOWED_NAMESPACES,y):at,Je=T(e,"ADD_URI_SAFE_ATTR")?k(M(Qe),e.ADD_URI_SAFE_ATTR,pt):Qe,$e=T(e,"ADD_DATA_URI_TAGS")?k(M(Ze),e.ADD_DATA_URI_TAGS,pt):Ze,qe=T(e,"FORBID_CONTENTS")?k({},e.FORBID_CONTENTS,pt):Xe,ke=T(e,"FORBID_TAGS")?k({},e.FORBID_TAGS,pt):M({}),Oe=T(e,"FORBID_ATTR")?k({},e.FORBID_ATTR,pt):M({}),Ye=!!T(e,"USE_PROFILES")&&e.USE_PROFILES,Me=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,_e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Pe=e.SAFE_FOR_TEMPLATES||!1,Le=!1!==e.SAFE_FOR_XML,He=e.WHOLE_DOCUMENT||!1,Ve=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Ue=e.RETURN_TRUSTED_TYPE||!1,Be=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,We=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Ge=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||X,it=e.NAMESPACE||nt,ut=e.MATHML_TEXT_INTEGRATION_POINTS||ut,st=e.HTML_INTEGRATION_POINTS||st,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Re=!1),Fe&&(Ve=!0),Ye&&(Te=k({},B),Ae=[],!0===Ye.html&&(k(Te,_),k(Ae,V)),!0===Ye.svg&&(k(Te,N),k(Ae,F),k(Ae,z)),!0===Ye.svgFilters&&(k(Te,P),k(Ae,F),k(Ae,z)),!0===Ye.mathMl&&(k(Te,H),k(Ae,U),k(Ae,z))),e.ADD_TAGS&&(Te===Ee&&(Te=M(Te)),k(Te,e.ADD_TAGS,pt)),e.ADD_ATTR&&(Ae===De&&(Ae=M(Ae)),k(Ae,e.ADD_ATTR,pt)),e.ADD_URI_SAFE_ATTR&&k(Je,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&(qe===Xe&&(qe=M(qe)),k(qe,e.FORBID_CONTENTS,pt)),je&&(Te["#text"]=!0),He&&k(Te,["html","head","body"]),Te.table&&(k(Te,["tbody"]),delete ke.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ue=e.TRUSTED_TYPES_POLICY,se=ue.createHTML("")}else void 0===ue&&(ue=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){return null}}(j,a)),null!==ue&&"string"==typeof se&&(se=ue.createHTML(""));s&&s(e),ft=e}},It=k({},[...N,...P,...L]),vt=k({},[...H,...K]),yt=function(e){g(n.removed,{element:e});try{Q(e).removeChild(e)}catch(t){q(e)}},bt=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Ve||Fe)try{yt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},xt=function(e){let t=null,n=null;if(Be)e="<remove></remove>"+e;else{const t=b(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ct&&it===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=ue?ue.createHTML(e):e;if(it===nt)try{t=(new W).parseFromString(i,ct)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(it,"template",null);try{t.documentElement.innerHTML=ot?se:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),it===nt?pe.call(t,He?"html":"body")[0]:He?t.documentElement:r},St=function(e){return ce.call(e.ownerDocument||e,e,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT|D.SHOW_PROCESSING_INSTRUCTION|D.SHOW_CDATA_SECTION,null)},wt=function(e){return e instanceof O&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof C)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Tt=function(e){return"function"==typeof d&&e instanceof d};function Et(e,t,i){f(e,e=>{e.call(n,t,i,ft)})}const At=function(e){let t=null;if(Et(me.beforeSanitizeElements,e,null),wt(e))return yt(e),!0;const i=pt(e.nodeName);if(Et(me.uponSanitizeElement,e,{tagName:i,allowedTags:Te}),Le&&e.hasChildNodes()&&!Tt(e.firstElementChild)&&E(/<[/\w!]/g,e.innerHTML)&&E(/<[/\w!]/g,e.textContent))return yt(e),!0;if(e.nodeType===ie)return yt(e),!0;if(Le&&e.nodeType===oe&&E(/<[/\w]/g,e.data))return yt(e),!0;if(!Te[i]||ke[i]){if(!ke[i]&&Ct(i)){if(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,i))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(i))return!1}if(je&&!qe[i]){const t=Q(e)||e.parentNode,n=Z(e)||e.childNodes;if(n&&t){for(let i=n.length-1;i>=0;--i){const o=Y(n[i],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,$(e))}}}return yt(e),!0}return e instanceof p&&!function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});const n=v(e.tagName),i=v(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===i||ut[i]):Boolean(It[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&st[i]:Boolean(vt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!st[i])&&!(t.namespaceURI===et&&!ut[i])&&!vt[n]&&(lt[n]||!It[n]):!("application/xhtml+xml"!==ct||!rt[e.namespaceURI]))}(e)?(yt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!E(/<\/no(script|embed|frames)/i,e.innerHTML)?(Pe&&e.nodeType===ne&&(t=e.textContent,f([he,ge,Ie],e=>{t=x(t,e," ")}),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),Et(me.afterSanitizeElements,e,null),!1):(yt(e),!0)},Dt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in o||n in mt))return!1;if(Re&&!Oe[t]&&E(ve,t));else if(Me&&E(ye,t));else if(!Ae[t]||Oe[t]){if(!(Ct(e)&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&E(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(Je[t]);else if(E(we,x(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!$e[e]){if(_e&&!E(be,x(n,xe,"")));else if(n)return!1}else;return!0},Ct=function(e){return"annotation-xml"!==e&&b(e,Se)},kt=function(e){Et(me.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||wt(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae,forceKeepAttr:void 0};let o=t.length;for(;o--;){const r=t[o],{name:a,namespaceURI:u,value:s}=r,l=pt(a),c=s;let d="value"===a?c:w(c);if(i.attrName=l,i.attrValue=d,i.keepAttr=!0,i.forceKeepAttr=void 0,Et(me.uponSanitizeAttribute,e,i),d=i.attrValue,!We||"id"!==l&&"name"!==l||(bt(a,e),d="user-content-"+d),Le&&E(/((--!?|])>)|<\/(style|title)/i,d)){bt(a,e);continue}if(i.forceKeepAttr)continue;if(!i.keepAttr){bt(a,e);continue}if(!Ne&&E(/\/>/i,d)){bt(a,e);continue}Pe&&f([he,ge,Ie],e=>{d=x(d,e," ")});const p=pt(e.nodeName);if(Dt(p,l,d)){if(ue&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(u);else switch(j.getAttributeType(p,l)){case"TrustedHTML":d=ue.createHTML(d);break;case"TrustedScriptURL":d=ue.createScriptURL(d)}if(d!==c)try{u?e.setAttributeNS(u,a,d):e.setAttribute(a,d),wt(e)?yt(e):h(n.removed)}catch(t){bt(a,e)}}else bt(a,e)}Et(me.afterSanitizeAttributes,e,null)},Ot=function e(t){let n=null;const i=St(t);for(Et(me.beforeSanitizeShadowDOM,t,null);n=i.nextNode();)Et(me.uponSanitizeShadowNode,n,null),At(n),kt(n),n.content instanceof u&&e(n.content);Et(me.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,a=null,s=null;if(ot=!e,ot&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Tt(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ke||gt(t),n.removed=[],"string"==typeof e&&(Ge=!1),Ge){if(e.nodeName){const t=pt(e.nodeName);if(!Te[t]||ke[t])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)i=xt("\x3c!----\x3e"),o=i.ownerDocument.importNode(e,!0),o.nodeType===te&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!Ve&&!Pe&&!He&&-1===e.indexOf("<"))return ue&&Ue?ue.createHTML(e):e;if(i=xt(e),!i)return Ve?null:Ue?se:""}i&&Be&&yt(i.firstChild);const l=St(Ge?e:i);for(;a=l.nextNode();)At(a),kt(a),a.content instanceof u&&Ot(a.content);if(Ge)return e;if(Ve){if(Fe)for(s=de.call(i.ownerDocument);i.firstChild;)s.appendChild(i.firstChild);else s=i;return(Ae.shadowroot||Ae.shadowrootmode)&&(s=fe.call(r,s,!0)),s}let c=He?i.outerHTML:i.innerHTML;return He&&Te["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&E(J,i.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+c),Pe&&f([he,ge,Ie],e=>{c=x(c,e," ")}),ue&&Ue?ue.createHTML(c):c},n.setConfig=function(){gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ke=!0},n.clearConfig=function(){ft=null,Ke=!1},n.isValidAttribute=function(e,t,n){ft||gt({});const i=pt(e),o=pt(t);return Dt(i,o,n)},n.addHook=function(e,t){"function"==typeof t&&g(me[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=m(me[e],t);return-1===n?void 0:I(me[e],n,1)[0]}return h(me[e])},n.removeHooks=function(e){me[e]=[]},n.removeAllHooks=function(){me={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()}}]);