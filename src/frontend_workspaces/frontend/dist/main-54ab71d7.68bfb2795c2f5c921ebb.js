"use strict";(self.webpackChunk_carbon_ai_chat_examples_web_components_basic=self.webpackChunk_carbon_ai_chat_examples_web_components_basic||[]).push([[1580],{57616:function(e,n,t){t.d(n,{A:function(){return r}});var a=t(7378),l=t(83281);t(37696);function r({onClose:e}){const[n,t]=(0,a.useState)({sources:[],embeddingModel:"text-embedding-3-small",chunkSize:1e3,chunkOverlap:200}),[r,o]=(0,a.useState)("idle");(0,a.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await fetch("/api/config/knowledge");if(e.ok){const n=await e.json();t(n)}}catch(e){}},s=(e,a)=>{t({...n,sources:n.sources.map(n=>n.id===e?{...n,...a}:n)})};return a.createElement("div",{className:"config-modal-overlay",onClick:e},a.createElement("div",{className:"config-modal",onClick:e=>e.stopPropagation()},a.createElement("div",{className:"config-modal-header"},a.createElement("h2",null,"Knowledge Configuration"),a.createElement("button",{className:"config-modal-close",onClick:e},a.createElement(l.X,{size:20}))),a.createElement("div",{className:"config-modal-content"},a.createElement("div",{className:"config-card"},a.createElement("h3",null,"Embedding Settings"),a.createElement("div",{className:"config-form"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Embedding Model"),a.createElement("select",{value:n.embeddingModel,onChange:e=>t({...n,embeddingModel:e.target.value})},a.createElement("option",{value:"text-embedding-3-small"},"text-embedding-3-small"),a.createElement("option",{value:"text-embedding-3-large"},"text-embedding-3-large"),a.createElement("option",{value:"text-embedding-ada-002"},"text-embedding-ada-002"))),a.createElement("div",{className:"form-row"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Chunk Size"),a.createElement("input",{type:"number",value:n.chunkSize,onChange:e=>t({...n,chunkSize:parseInt(e.target.value)}),min:"100",max:"4000"})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Chunk Overlap"),a.createElement("input",{type:"number",value:n.chunkOverlap,onChange:e=>t({...n,chunkOverlap:parseInt(e.target.value)}),min:"0",max:"1000"}))))),a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Knowledge Sources"),a.createElement("button",{className:"add-btn",onClick:()=>{const e={id:Date.now().toString(),name:"New Source",type:"file",enabled:!0};t({...n,sources:[...n.sources,e]})}},a.createElement(l.FWt,{size:16}),"Add Source")),a.createElement("div",{className:"sources-list"},n.sources.map(e=>a.createElement("div",{key:e.id,className:"source-item"},a.createElement("div",{className:"source-header"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>s(e.id,{enabled:n.target.checked})}),a.createElement("input",{type:"text",value:e.name,onChange:n=>s(e.id,{name:n.target.value}),className:"source-name"}),a.createElement("select",{value:e.type,onChange:n=>s(e.id,{type:n.target.value})},a.createElement("option",{value:"file"},"File"),a.createElement("option",{value:"url"},"URL"),a.createElement("option",{value:"database"},"Database")),a.createElement("button",{className:"delete-btn",onClick:()=>{return a=e.id,void t({...n,sources:n.sources.filter(e=>e.id!==a)});var a}},a.createElement(l.TBR,{size:16}))),a.createElement("div",{className:"source-details"},"file"===e.type&&a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",value:e.path||"",onChange:n=>s(e.id,{path:n.target.value}),placeholder:"File path..."})),"url"===e.type&&a.createElement("div",{className:"form-group"},a.createElement("input",{type:"text",value:e.url||"",onChange:n=>s(e.id,{url:n.target.value}),placeholder:"https://..."})))))),0===n.sources.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No knowledge sources configured. Click "Add Source" to get started.')))),a.createElement("div",{className:"config-modal-footer"},a.createElement("button",{className:"cancel-btn",onClick:e},"Cancel"),a.createElement("button",{className:`save-btn ${r}`,onClick:async()=>{o("saving");try{(await fetch("/api/config/knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(o("success"),setTimeout(()=>o("idle"),2e3)):(o("error"),setTimeout(()=>o("idle"),2e3))}catch(e){o("error"),setTimeout(()=>o("idle"),2e3)}},disabled:"saving"===r},a.createElement(l.eMP,{size:16}),"idle"===r&&"Save Changes","saving"===r&&"Saving...","success"===r&&"Saved!","error"===r&&"Error!"))))}},91707:function(e,n,t){t.d(n,{E:function(){return k}});var a=t(7378),l=t(83281),r=t(76228),o=t.n(r),i=t(74253),s=t.n(i),c=t(52255),d=t.n(c),m=t(51308),p=t.n(m),u=t(19464),g=t.n(u),b=t(91077),f=t.n(b),y=t(82289),v={};v.styleTagTransform=f(),v.setAttributes=p(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=g();o()(y.A,v),y.A&&y.A.locals&&y.A.locals;var h=t(93885);const E=!1,x=!1;function k({globalVariables:e,variablesHistory:n,selectedAnswerId:t,onSelectAnswer:r,isCollapsed:o=!1,activeTab:i="conversations",onTabChange:s,leftSidebarRef:c}){const[d,m]=(0,a.useState)(!o);(0,a.useEffect)(()=>{m(!o)},[o]),(0,a.useEffect)(()=>{},[e,n]);const[p,u]=(0,a.useState)([]),[g,b]=(0,a.useState)(null),[f,y]=(0,a.useState)([]),[v,k]=(0,a.useState)(null),[w,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{C(),A()},[]);const C=async()=>{try{const e=await fetch("/api/conversations");if(e.ok){const n=await e.json();u(n)}}catch(e){}},_=async e=>{const n={id:`conv-${Date.now()}`,title:e||"New Conversation",timestamp:Date.now()};u(e=>[n,...e]),b(n.id);try{const t=await fetch("/api/conversations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e||"New Conversation",timestamp:Date.now()})});if(t.ok){const e=await t.json();u(t=>t.map(t=>t.id===n.id?{...e,id:n.id}:t))}}catch(e){}},S=a.useCallback(e=>{_(e)},[]);a.useImperativeHandle(c,()=>({addConversation:S}),[S]),a.useEffect(()=>{},[c?.current]);const A=async()=>{try{const e=await fetch("/api/flows");if(e.ok){const n=await e.json();y(n.flows||[])}else y([])}catch(e){y([])}},z=e=>{const n=new Date(e),t=(new Date).getTime()-n.getTime(),a=Math.floor(t/6e4),l=Math.floor(t/36e5),r=Math.floor(t/864e5);return a<1?"1 minute ago":a<60?`${a} ${1===a?"minute":"minutes"} ago`:l<24?`${l} ${1===l?"hour":"hours"} ago`:1===r?"now":r<7?`${r} days ago`:n.toLocaleDateString()};return d?a.createElement("div",{className:"left-sidebar "+(d?"expanded":"collapsed")},a.createElement("div",{className:"left-sidebar-header"},a.createElement("div",{className:"left-sidebar-tabs"},E&&a.createElement("button",{className:"sidebar-tab "+("conversations"===i?"active":""),onClick:()=>s?s("conversations"):null},a.createElement(l.vEG,{size:16}),a.createElement("span",null,"Chats")),a.createElement("button",{className:"sidebar-tab "+("variables"===i?"active":""),onClick:()=>s?s("variables"):null},a.createElement(l.WmV,{size:16}),a.createElement("span",null,"Variables"),a.createElement("div",{className:"sidebar-tab-info-tooltip-wrapper",onClick:e=>e.stopPropagation(),onMouseEnter:e=>e.stopPropagation()},a.createElement(l.mNh,{size:14,className:"sidebar-info-icon"}),a.createElement("div",{className:"sidebar-tab-info-tooltip"},"Variables are the results from task execution. Ask any question about the variables and CUGA will respond."))),x&&a.createElement("button",{className:"sidebar-tab "+("savedflows"===i?"active":""),onClick:()=>s?s("savedflows"):null},a.createElement(l.WuS,{size:16}),a.createElement("span",null,"Saved Flows"))),a.createElement("button",{className:"left-sidebar-toggle",onClick:()=>m(!1)},a.createElement(l.JGc,{size:18}))),a.createElement("div",{className:"left-sidebar-content"},E&&"conversations"===i?a.createElement(a.Fragment,null,a.createElement("div",{className:"conversations-actions"},a.createElement("button",{className:"new-conversation-btn",onClick:()=>_()},a.createElement(l.FWt,{size:16}),a.createElement("span",null,"New Chat"))),a.createElement("div",{className:"conversations-list"},0===p.length?a.createElement("div",{className:"empty-state"},a.createElement(l.vEG,{size:32}),a.createElement("p",null,"No conversations yet"),a.createElement("small",null,"Start a new chat to begin")):p.map(e=>a.createElement("div",{key:e.id,className:"conversation-item "+(g===e.id?"selected":""),onClick:()=>b(e.id)},a.createElement("div",{className:"conversation-header"},a.createElement(l.vEG,{size:14}),a.createElement("span",{className:"conversation-title"},e.title),a.createElement("button",{className:"delete-conversation-btn",onClick:n=>(async(e,n)=>{n.stopPropagation();try{(await fetch(`/api/conversations/${e}`,{method:"DELETE"})).ok&&(u(p.filter(n=>n.id!==e)),g===e&&b(null))}catch(e){}})(e.id,n)},a.createElement(l.TBR,{size:14}))),e.preview&&a.createElement("div",{className:"conversation-preview"},e.preview),a.createElement("div",{className:"conversation-date"},z(e.timestamp)))))):"variables"===i?a.createElement("div",{className:"variables-wrapper"},a.createElement(h.A,{variables:e,history:n,selectedAnswerId:t,onSelectAnswer:r})):x&&"savedflows"===i?a.createElement(a.Fragment,null,a.createElement("div",{className:"conversations-list"},0===f.length?a.createElement("div",{className:"empty-state"},a.createElement(l.WuS,{size:32}),a.createElement("p",null,"No saved flows yet"),a.createElement("small",null,"Saved flows will appear here")):f.map(e=>a.createElement("div",{key:e.id,className:"conversation-item flow-item"},a.createElement("div",{className:"conversation-header"},a.createElement(l.WuS,{size:14}),a.createElement("span",{className:"conversation-title"},e.name),a.createElement("div",{className:"flow-info-icon-wrapper",onMouseEnter:n=>{const t=n.currentTarget.getBoundingClientRect(),a=window.innerWidth;let l=t.right+12;l+300>a&&(l=t.left-300-12);let r=t.top;r+120>window.innerHeight&&(r=window.innerHeight-120-10),r<10&&(r=10),N({top:r,left:l}),k(e.id)},onMouseLeave:e=>{const n=document.querySelector(".flow-info-tooltip");if(n){const t=n.getBoundingClientRect(),a=e.clientX,l=e.clientY;if(a>=t.left&&a<=t.right&&l>=t.top&&l<=t.bottom)return}k(null),N(null)}},a.createElement(l.R2D,{size:14,className:"flow-info-icon"}))),e.description&&a.createElement("div",{className:"conversation-preview"},e.description),a.createElement("div",{className:"flow-parameters"},a.createElement("div",{className:"flow-function-signature"},a.createElement("code",null,e.name,"("),a.createElement("div",{className:"flow-params-list"},e.parameters.map((n,t)=>a.createElement("div",{key:t,className:"flow-param"},a.createElement("code",{className:"param-name"},n.name),a.createElement("span",{className:"param-type"},": ",n.type),!n.required&&void 0!==n.default&&a.createElement("span",{className:"param-default"}," = ",JSON.stringify(n.default)),n.required&&a.createElement("span",{className:"param-required"},"*"),t<e.parameters.length-1&&a.createElement("span",null,",")))),a.createElement("code",null,")"))),a.createElement("div",{className:"conversation-date"},z(e.timestamp)))))):null),v&&w&&a.createElement("div",{className:"flow-info-tooltip",style:{top:`${w.top}px`,left:`${w.left}px`},onMouseEnter:()=>{k(v)},onMouseLeave:()=>{k(null),N(null)}},"Saved from a previous conversation where you completed a similar task using CRM, filesystem, and email tools. Reuse this flow to repeat the same pattern with different parameters.")):a.createElement("div",{className:"left-sidebar-floating-toggle",onClick:()=>m(!0)},a.createElement(l.c_$,{size:20}),a.createElement("div",{className:"sidebar-floating-count"},p.length))}},38267:function(e,n,t){t.d(n,{A:function(){return r}});var a=t(7378),l=t(83281);t(37696);function r({onClose:e}){const[n,t]=(0,a.useState)({enableMemory:!0,disableMemory:!1,memoryType:"both",contextWindow:4096,maxMemoryItems:100,semanticSearch:!0,autoSummarization:!0,factStorage:!1,learningFromFailures:!1,blockedMemoryItems:[],saveAndReuse:{enabled:!1,autoGeneralize:!1,minSuccessfulRuns:3,requireApproval:!0,savedTrajectories:[]}}),[r,o]=(0,a.useState)("idle"),[i,s]=(0,a.useState)(""),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await fetch("/api/config/memory");if(e.ok){const n=await e.json();t({enableMemory:n.enableMemory??!0,disableMemory:n.disableMemory??!1,memoryType:n.memoryType??"both",contextWindow:n.contextWindow??4096,maxMemoryItems:n.maxMemoryItems??100,semanticSearch:n.semanticSearch??!0,autoSummarization:n.autoSummarization??!0,factStorage:n.factStorage??!1,learningFromFailures:n.learningFromFailures??!1,blockedMemoryItems:n.blockedMemoryItems??[],saveAndReuse:n.saveAndReuse??{enabled:!1,autoGeneralize:!1,minSuccessfulRuns:3,requireApproval:!0,savedTrajectories:[]}})}}catch(e){}},p=()=>{i.trim()&&!n.blockedMemoryItems.includes(i.trim())&&(t({...n,blockedMemoryItems:[...n.blockedMemoryItems,i.trim()]}),s(""))};return a.createElement("div",{className:"config-modal-overlay",onClick:e},a.createElement("div",{className:"config-modal",onClick:e=>e.stopPropagation()},a.createElement("div",{className:"config-modal-header"},a.createElement("h2",null,"Memory Configuration"),a.createElement("button",{className:"config-modal-close",onClick:e},a.createElement(l.X,{size:20}))),a.createElement("div",{className:"config-modal-content"},a.createElement("div",{className:"config-card"},a.createElement("h3",null,"Memory Settings"),a.createElement("div",{className:"config-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.disableMemory,onChange:e=>{const a=e.target.checked;t({...n,disableMemory:a,enableMemory:!a&&n.enableMemory})}}),a.createElement("span",null,"Disable Memory Completely")),a.createElement("small",null,"Turn off all memory functionality")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.enableMemory,onChange:e=>t({...n,enableMemory:e.target.checked}),disabled:n.disableMemory}),a.createElement("span",null,"Enable Memory System")),a.createElement("small",null,"Allow the agent to remember context across conversations")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Max Memory Items"),a.createElement("input",{type:"number",value:n.maxMemoryItems,onChange:e=>t({...n,maxMemoryItems:parseInt(e.target.value)}),min:"10",max:"1000",disabled:!n.enableMemory||n.disableMemory}),a.createElement("small",null,"Maximum number of memory items to store")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.semanticSearch,onChange:e=>t({...n,semanticSearch:e.target.checked}),disabled:!n.enableMemory||n.disableMemory}),a.createElement("span",null,"Enable Semantic Search")),a.createElement("small",null,"Use embeddings to find relevant memories")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.autoSummarization,onChange:e=>t({...n,autoSummarization:e.target.checked}),disabled:!n.enableMemory||n.disableMemory}),a.createElement("span",null,"Auto-summarization")),a.createElement("small",null,"Automatically summarize long conversations")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.factStorage,onChange:e=>t({...n,factStorage:e.target.checked}),disabled:!n.enableMemory||n.disableMemory}),a.createElement("span",null,"Enable Fact Storage and Retrieval")),a.createElement("small",null,"Store and retrieve important facts like IDs, key values, and persistent information")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.learningFromFailures,onChange:e=>t({...n,learningFromFailures:e.target.checked}),disabled:!n.enableMemory||n.disableMemory}),a.createElement("span",null,"Enable Learning from Failures and Tip Injection")),a.createElement("small",null,"Learn from past failures and analyze trajectories to improve future task performance")),a.createElement("div",{className:"form-group"},a.createElement("div",{className:"form-group-header"},a.createElement("label",null,"Blocked Memory Items"),a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},a.createElement("input",{type:"text",value:i,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())},placeholder:"e.g., passwords, secrets",disabled:n.disableMemory,style:{width:"200px",padding:"4px 8px",fontSize:"12px"}}),a.createElement("button",{className:"add-small-btn",onClick:p,disabled:n.disableMemory||!i.trim()},a.createElement(l.FWt,{size:12}),"Add"))),0===n.blockedMemoryItems.length?a.createElement("div",{className:"policies-empty"},"No blocked items. Add items that the agent should never remember."):a.createElement("div",{className:"policies-list"},n.blockedMemoryItems.map((e,r)=>a.createElement("div",{key:r,className:"policy-item"},a.createElement("span",{style:{flex:1,padding:"8px",fontSize:"13px"}},e),a.createElement("button",{className:"remove-btn",onClick:()=>(e=>{t({...n,blockedMemoryItems:n.blockedMemoryItems.filter(n=>n!==e)})})(e),disabled:n.disableMemory},a.createElement(l.X,{size:14}))))),a.createElement("small",null,"Items the agent is not allowed to remember (e.g., sensitive information, passwords)")))),a.createElement("div",{className:"config-card"},a.createElement("h3",null,"Save & Reuse Trajectories"),a.createElement("div",{className:"config-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.saveAndReuse.enabled,onChange:e=>t({...n,saveAndReuse:{...n.saveAndReuse,enabled:e.target.checked}}),disabled:n.disableMemory}),a.createElement("span",null,"Enable Save & Reuse")),a.createElement("small",null,"Allow agent to save successful task trajectories as reusable tools")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.saveAndReuse.autoGeneralize,onChange:e=>t({...n,saveAndReuse:{...n.saveAndReuse,autoGeneralize:e.target.checked}}),disabled:!n.saveAndReuse.enabled||n.disableMemory}),a.createElement("span",null,"Auto-generalize Trajectories")),a.createElement("small",null,"Automatically identify patterns and create reusable tools from successful tasks")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Min. Successful Runs Before Saving"),a.createElement("input",{type:"number",value:n.saveAndReuse.minSuccessfulRuns,onChange:e=>t({...n,saveAndReuse:{...n.saveAndReuse,minSuccessfulRuns:parseInt(e.target.value)}}),min:"1",max:"10",disabled:!n.saveAndReuse.enabled||n.disableMemory}),a.createElement("small",null,"Number of successful executions before suggesting trajectory as reusable tool")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.saveAndReuse.requireApproval,onChange:e=>t({...n,saveAndReuse:{...n.saveAndReuse,requireApproval:e.target.checked}}),disabled:!n.saveAndReuse.enabled||n.disableMemory}),a.createElement("span",null,"Require User Approval")),a.createElement("small",null,"Ask for permission before saving new trajectories as tools")),a.createElement("div",{className:"form-group",style:{marginTop:"24px"}},a.createElement("label",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",display:"block"}},"Saved Trajectories (",n.saveAndReuse.savedTrajectories.length,")"),0===n.saveAndReuse.savedTrajectories.length?a.createElement("div",{className:"policies-empty"},"No saved trajectories yet. When enabled, successful task patterns will appear here."):a.createElement("div",{className:"policies-list",style:{maxHeight:"400px",overflowY:"auto"}},n.saveAndReuse.savedTrajectories.map(e=>{const r=c===e.id;return a.createElement("div",{key:e.id,className:"policy-item",style:{flexDirection:"column",alignItems:"stretch"}},a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px"}},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:()=>{return a=e.id,void t({...n,saveAndReuse:{...n.saveAndReuse,savedTrajectories:n.saveAndReuse.savedTrajectories.map(e=>e.id===a?{...e,enabled:!e.enabled}:e)}});var a},disabled:!n.saveAndReuse.enabled||n.disableMemory,style:{cursor:"pointer"}}),a.createElement("div",{style:{flex:1,cursor:"pointer"},onClick:()=>d(r?null:e.id)},a.createElement("div",{style:{fontWeight:600,fontSize:"13px",color:"#1e293b"}},e.name),a.createElement("div",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"}},e.description)),a.createElement("div",{style:{display:"flex",gap:"4px",alignItems:"center",fontSize:"11px",color:"#64748b"}},a.createElement("span",null,"Confidence: ",e.confidence,"%"),a.createElement("span",null,"•"),a.createElement("span",null,e.parameters.length," params")),a.createElement("button",{className:"remove-btn",onClick:()=>{return a=e.id,void t({...n,saveAndReuse:{...n.saveAndReuse,savedTrajectories:n.saveAndReuse.savedTrajectories.filter(e=>e.id!==a)}});var a},disabled:!n.saveAndReuse.enabled||n.disableMemory},a.createElement(l.TBR,{size:14}))),r&&a.createElement("div",{style:{padding:"12px",background:"#f8fafc",borderTop:"1px solid #e5e7eb",fontSize:"12px"}},a.createElement("div",{style:{marginBottom:"12px"}},a.createElement("strong",{style:{color:"#475569",display:"block",marginBottom:"6px"}},"Parameters:"),0===e.parameters.length?a.createElement("div",{style:{color:"#94a3b8",fontStyle:"italic"}},"No parameters"):a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"6px"}},e.parameters.map((e,n)=>a.createElement("div",{key:n,style:{background:"white",padding:"6px 8px",borderRadius:"4px",border:"1px solid #e5e7eb"}},a.createElement("code",{style:{color:"#667eea",fontWeight:600,fontSize:"11px"}},e.name),a.createElement("span",{style:{color:"#64748b"}},": ",e.type),e.required&&a.createElement("span",{style:{color:"#ef4444",marginLeft:"4px"}},"*"),e.description&&a.createElement("div",{style:{color:"#64748b",fontSize:"11px",marginTop:"2px"}},e.description))))),a.createElement("div",{style:{display:"flex",gap:"16px",fontSize:"11px",color:"#64748b"}},a.createElement("span",null,"Min interactions: ",e.minInteractions),a.createElement("span",null,"•"),a.createElement("span",null,"Created: ",new Date(e.createdAt).toLocaleDateString()))))})),a.createElement("small",{style:{display:"block",marginTop:"8px"}},"Trajectories are automatically learned from successful task completions"))))),a.createElement("div",{className:"config-modal-footer"},a.createElement("button",{className:"cancel-btn",onClick:e},"Cancel"),a.createElement("button",{className:`save-btn ${r}`,onClick:async()=>{o("saving");try{(await fetch("/api/config/memory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(o("success"),setTimeout(()=>o("idle"),2e3)):(o("error"),setTimeout(()=>o("idle"),2e3))}catch(e){o("error"),setTimeout(()=>o("idle"),2e3)}},disabled:"saving"===r},a.createElement(l.eMP,{size:16}),"idle"===r&&"Save Changes","saving"===r&&"Saving...","success"===r&&"Saved!","error"===r&&"Error!"))))}},66079:function(e,n,t){t.d(n,{A:function(){return r}});var a=t(7378),l=t(83281);t(37696);function r({onClose:e}){const[n,t]=(0,a.useState)({provider:"watsonx",model:"openai/gpt-oss-120b",temperature:.7,maxTokens:4096,topP:1}),[r,o]=(0,a.useState)("idle");(0,a.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await fetch("/api/config/model");if(e.ok){const n=await e.json();t(n)}}catch(e){}};return a.createElement("div",{className:"config-modal-overlay",onClick:e},a.createElement("div",{className:"config-modal",onClick:e=>e.stopPropagation()},a.createElement("div",{className:"config-modal-header"},a.createElement("h2",null,"Model Configuration"),a.createElement("button",{className:"config-modal-close",onClick:e},a.createElement(l.X,{size:20}))),a.createElement("div",{className:"config-modal-content"},a.createElement("div",{className:"config-card"},a.createElement("h3",null,"Language Model Settings"),a.createElement("div",{className:"config-form"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Provider"),a.createElement("select",{value:n.provider,onChange:e=>t({...n,provider:e.target.value})},a.createElement("option",{value:"anthropic"},"Anthropic"),a.createElement("option",{value:"openai"},"OpenAI"),a.createElement("option",{value:"azure"},"Azure OpenAI"),a.createElement("option",{value:"watsonx"},"IBM watsonx"),a.createElement("option",{value:"ollama"},"Ollama"))),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Model"),a.createElement("input",{type:"text",value:n.model,onChange:e=>t({...n,model:e.target.value}),placeholder:"e.g., claude-3-5-sonnet-20241022"})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Temperature: ",n.temperature),a.createElement("input",{type:"range",min:"0",max:"2",step:"0.1",value:n.temperature,onChange:e=>t({...n,temperature:parseFloat(e.target.value)})}),a.createElement("small",null,"Controls randomness: 0 = focused, 2 = creative")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Max Tokens"),a.createElement("input",{type:"number",value:n.maxTokens,onChange:e=>t({...n,maxTokens:parseInt(e.target.value)}),min:"1",max:"200000"})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Top P: ",n.topP),a.createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.topP,onChange:e=>t({...n,topP:parseFloat(e.target.value)})}),a.createElement("small",null,"Nucleus sampling threshold")),"ollama"!==n.provider&&a.createElement("div",{className:"form-group"},a.createElement("label",null,"API Key"),a.createElement("input",{type:"password",value:n.apiKey||"",onChange:e=>t({...n,apiKey:e.target.value}),placeholder:"Enter API key..."}))))),a.createElement("div",{className:"config-modal-footer"},a.createElement("button",{className:"cancel-btn",onClick:e},"Cancel"),a.createElement("button",{className:`save-btn ${r}`,onClick:async()=>{o("saving");try{(await fetch("/api/config/model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(o("success"),setTimeout(()=>o("idle"),2e3)):(o("error"),setTimeout(()=>o("idle"),2e3))}catch(e){o("error"),setTimeout(()=>o("idle"),2e3)}},disabled:"saving"===r},a.createElement(l.eMP,{size:16}),"idle"===r&&"Save Changes","saving"===r&&"Saving...","success"===r&&"Saved!","error"===r&&"Error!"))))}},95092:function(e,n,t){t.d(n,{A:function(){return i}});var a=t(7378),l=t(83281);t(37696);function r({items:e,selectedValues:n,onChange:t,placeholder:r,disabled:o,allowWildcard:i}){const[s,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{function e(e){p.current&&!p.current.contains(e.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const u=e.filter(e=>e.label.toLowerCase().includes(d.toLowerCase())||e.description?.toLowerCase().includes(d.toLowerCase())),g=n.includes("*"),b=e=>{if("*"===e)t(g?[]:["*"]);else if(g)t([e]);else{const a=n.includes(e)?n.filter(n=>n!==e):[...n,e];t(a)}},f=g?"All (*)":0===n.length?r||"Select...":`${n.length} selected`;return a.createElement("div",{ref:p,style:{position:"relative",width:"100%"}},a.createElement("div",{onClick:()=>!o&&c(!s),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:o?"not-allowed":"pointer",backgroundColor:o?"#f9fafb":"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement("span",{style:{color:0===n.length?"#9ca3af":"#111827"}},f),a.createElement(l.yQN,{size:16,style:{transform:s?"rotate(180deg)":"none",transition:"transform 0.2s"}})),s&&a.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",maxHeight:"300px",overflow:"hidden",zIndex:1e3,display:"flex",flexDirection:"column"}},a.createElement("div",{style:{padding:"8px",borderBottom:"1px solid #e5e7eb"}},a.createElement("div",{style:{position:"relative"}},a.createElement(l.vji,{size:16,style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),a.createElement("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Search...",style:{width:"100%",padding:"6px 6px 6px 32px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"13px"},onClick:e=>e.stopPropagation()}))),a.createElement("div",{style:{overflowY:"auto",maxHeight:"240px"}},i&&a.createElement("div",{onClick:()=>b("*"),style:{padding:"8px 12px",cursor:"pointer",backgroundColor:g?"#eff6ff":"transparent",borderBottom:"1px solid #f3f4f6",display:"flex",alignItems:"center",gap:"8px"}},a.createElement("input",{type:"checkbox",checked:g,readOnly:!0,style:{cursor:"pointer"}}),a.createElement("div",null,a.createElement("div",{style:{fontWeight:600,fontSize:"13px"}},"All (*)"),a.createElement("div",{style:{fontSize:"12px",color:"#6b7280"}},"Select all items"))),u.map(e=>a.createElement("div",{key:e.value,onClick:()=>b(e.value),style:{padding:"8px 12px",cursor:"pointer",backgroundColor:n.includes(e.value)?"#eff6ff":"transparent",borderBottom:"1px solid #f3f4f6",display:"flex",alignItems:"center",gap:"8px"}},a.createElement("input",{type:"checkbox",checked:n.includes(e.value),readOnly:!0,style:{cursor:"pointer"}}),a.createElement("div",{style:{flex:1}},a.createElement("div",{style:{fontWeight:500,fontSize:"13px"}},e.label),e.description&&a.createElement("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"2px"}},e.description)))),0===u.length&&a.createElement("div",{style:{padding:"16px",textAlign:"center",color:"#9ca3af",fontSize:"13px"}},"No items found"))))}function o({values:e,onChange:n,placeholder:t,disabled:l}){const[r,o]=(0,a.useState)(""),i=(0,a.useRef)(null),s=t=>{const a=t.trim();a&&!e.includes(a)&&n([...e,a]),o("")},c=t=>{n(e.filter((e,n)=>n!==t))};return a.createElement("div",{onClick:()=>!l&&i.current?.focus(),style:{border:"1px solid #e5e7eb",borderRadius:"6px",padding:"6px",minHeight:"42px",display:"flex",flexWrap:"wrap",gap:"6px",alignItems:"center",cursor:l?"not-allowed":"text",backgroundColor:l?"#f9fafb":"#fff"}},e.map((e,n)=>a.createElement("div",{key:n,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"#eff6ff",border:"1px solid #dbeafe",borderRadius:"4px",fontSize:"13px",color:"#1e40af"}},a.createElement("span",null,e),!l&&a.createElement("button",{onClick:e=>{e.stopPropagation(),c(n)},style:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",color:"#3b82f6",fontSize:"16px",lineHeight:"1"},title:"Remove"},"×"))),a.createElement("input",{ref:i,type:"text",value:r,onChange:e=>o(e.target.value),onKeyDown:n=>{"Enter"===n.key||","===n.key?(n.preventDefault(),s(r)):"Backspace"===n.key&&!r&&e.length>0&&c(e.length-1)},onBlur:()=>{r.trim()&&s(r)},placeholder:0===e.length?t:"",disabled:l,style:{border:"none",outline:"none",flex:1,minWidth:"120px",padding:"4px",fontSize:"13px",backgroundColor:"transparent"}}))}function i({onClose:e}){const[n,t]=(0,a.useState)({enablePolicies:!0,policies:[]}),[i,s]=(0,a.useState)("intent_guard"),[c,d]=(0,a.useState)(null),[m,p]=(0,a.useState)("idle"),[u,g]=(0,a.useState)(!0),[b,f]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[h,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x(),k()},[]);const x=async()=>{g(!0);try{const e=await fetch("/api/config/policies");if(e.ok){const n=await e.json(),a=(n.policies??[]).map(e=>({...e,triggers:e.triggers.map(e=>{if("natural_language"===e.type&&void 0!==e.value){const n=Array.isArray(e.value)?e.value:"string"==typeof e.value?[e.value]:[];return{...e,value:n}}return e})}));t({enablePolicies:n.enablePolicies??!0,policies:a})}else{await e.text()}}catch(e){}finally{g(!1)}},k=async()=>{E(!0);try{const e=await fetch("/api/tools/list");if(e.ok){const n=await e.json();f(n.tools||[]),v(n.apps||[])}}catch(e){}finally{E(!1)}},w=()=>{const e={id:`guard_${Date.now()}`,name:"New Intent Guard",description:"Blocks or modifies specific user intents",policy_type:"intent_guard",enabled:!0,triggers:[{type:"keyword",value:[],target:"intent",case_sensitive:!1,operator:"and"}],response:{response_type:"natural_language",content:"This action is not allowed."},allow_override:!1,priority:50};t({...n,policies:[...n.policies,e]})},N=()=>{const e={id:`playbook_${Date.now()}`,name:"New Playbook",description:"Step-by-step guidance for a task",policy_type:"playbook",enabled:!0,triggers:[{type:"keyword",value:[],target:"intent",case_sensitive:!1,operator:"and"}],markdown_content:"# Task Guide\n\n## Steps:\n\n1. First step\n2. Second step\n3. Third step",steps:[{step_number:1,instruction:"First step",expected_outcome:"Step 1 complete",tools_allowed:[]}],priority:50};t({...n,policies:[...n.policies,e]})},C=()=>{const e={id:`tool_guide_${Date.now()}`,name:"New Tool Guide",description:"Add additional context to tool descriptions",policy_type:"tool_guide",enabled:!0,triggers:[{type:"always"}],target_tools:["*"],target_apps:void 0,guide_content:"## Additional Guidelines\n\n- Follow best practices\n- Consider security implications",prepend:!1,priority:50};t({...n,policies:[...n.policies,e]})},_=()=>{const e={id:`tool_approval_${Date.now()}`,name:"New Tool Approval",description:"Require approval before executing specific tools",policy_type:"tool_approval",enabled:!0,triggers:[],required_tools:[],required_apps:void 0,approval_message:"This tool requires your approval before execution.",show_code_preview:!0,auto_approve_after:void 0,priority:50};t({...n,policies:[...n.policies,e]})},S=()=>{const e={id:`output_formatter_${Date.now()}`,name:"New Output Formatter",description:"Format the final AI message output",policy_type:"output_formatter",enabled:!0,triggers:[{type:"keyword",value:[],target:"agent_response",case_sensitive:!1,operator:"and"}],format_type:"markdown",format_config:"Format the response in a clear, structured way with proper headings and bullet points.",priority:50};t({...n,policies:[...n.policies,e]})},A=(e,a)=>{t({...n,policies:n.policies.map(n=>n.id===e?{...n,...a}:n)})},z=e=>{t({...n,policies:n.policies.filter(n=>n.id!==e)})},P=n.policies.filter(e=>"intent_guard"===e.policy_type),T=n.policies.filter(e=>"playbook"===e.policy_type),M=n.policies.filter(e=>"tool_guide"===e.policy_type),I=n.policies.filter(e=>"tool_approval"===e.policy_type),R=n.policies.filter(e=>"output_formatter"===e.policy_type);return a.createElement("div",{className:"config-modal-overlay"},a.createElement("div",{className:"config-modal"},a.createElement("div",{className:"config-modal-header"},a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},a.createElement(l.ekZ,{size:24,style:{color:"#4e00ec"}}),a.createElement("h2",null,"Policies Configuration")),a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},a.createElement("button",{onClick:()=>{try{const e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`policies-export-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}catch(e){alert("Failed to export policies. Check console for details.")}},disabled:0===n.policies.length,style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:0===n.policies.length?"#e5e7eb":"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:0===n.policies.length?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,color:0===n.policies.length?"#9ca3af":"#374151"},title:"Export all policies as JSON"},a.createElement(l.f5X,{size:16}),"Export"),a.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500,color:"#374151"},title:"Import policies from JSON"},a.createElement(l._OO,{size:16}),"Import",a.createElement("input",{type:"file",accept:".json",onChange:e=>{const a=e.target.files?.[0];if(!a)return;const l=new FileReader;l.onload=e=>{try{const a=JSON.parse(e.target?.result);if(a.policies&&Array.isArray(a.policies)){const e=a.policies.map(e=>({...e,triggers:e.triggers.map(e=>{if("natural_language"===e.type&&void 0!==e.value){const n=Array.isArray(e.value)?e.value:"string"==typeof e.value?[e.value]:[];return{...e,value:n}}return e})}));t({enablePolicies:a.enablePolicies??n.enablePolicies,policies:e}),alert(`Successfully imported ${e.length} policies!`)}else alert('Invalid policies file format. Expected a JSON file with a "policies" array.')}catch(e){alert("Failed to import policies. Please check the file format.")}},l.readAsText(a),e.target.value=""},style:{display:"none"}})),a.createElement("button",{className:"config-modal-close",onClick:e},a.createElement(l.X,{size:20})))),a.createElement("div",{className:"config-modal-tabs"},a.createElement("button",{className:"config-tab "+("intent_guard"===i?"active":""),onClick:()=>s("intent_guard")},"Intent Guards (",P.length,")"),a.createElement("button",{className:"config-tab "+("playbook"===i?"active":""),onClick:()=>s("playbook")},"Playbooks (",T.length,")"),a.createElement("button",{className:"config-tab "+("tool_guide"===i?"active":""),onClick:()=>s("tool_guide")},"Tool Guide (",M.length,")"),a.createElement("button",{className:"config-tab "+("tool_approval"===i?"active":""),onClick:()=>s("tool_approval")},"Tool Approval (",I.length,")"),a.createElement("button",{className:"config-tab "+("output_formatter"===i?"active":""),onClick:()=>s("output_formatter")},"Output Formatter (",R.length,")")),a.createElement("div",{className:"config-modal-content"},u?a.createElement("div",{className:"config-card",style:{textAlign:"center",padding:"40px"}},a.createElement("p",null,"Loading policies...")):a.createElement(a.Fragment,null,a.createElement("div",{className:"config-card"},a.createElement("h3",null,"Global Settings"),a.createElement("div",{className:"config-form"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:n.enablePolicies,onChange:e=>t({...n,enablePolicies:e.target.checked})}),a.createElement("span",null,"Enable Policy System")),a.createElement("small",null,"Master switch for all policy enforcement (",n.policies.length," policies configured)")))),"intent_guard"===i&&a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Intent Guards"),a.createElement("button",{className:"add-btn",onClick:w,disabled:!n.enablePolicies},a.createElement(l.FWt,{size:16}),"Add Intent Guard")),a.createElement("div",{className:"sources-list"},P.map(e=>{const t=c===e.id,r=e.triggers.find(e=>"keyword"===e.type),i=r&&Array.isArray(r.value)?r.value:[];return a.createElement("div",{key:e.id,className:"agent-config-card"},a.createElement("div",{className:"agent-config-header"},a.createElement("div",{className:"agent-config-top"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>A(e.id,{enabled:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("input",{type:"text",value:e.name,onChange:n=>A(e.id,{name:n.target.value}),className:"agent-config-name",placeholder:"Policy Name",disabled:!n.enablePolicies}),a.createElement("button",{className:"expand-btn",onClick:()=>d(t?null:e.id)},t?a.createElement(l.rXn,{size:16}):a.createElement(l.yQN,{size:16})),a.createElement("button",{className:"delete-btn",onClick:()=>z(e.id),disabled:!n.enablePolicies},a.createElement(l.TBR,{size:16}))),!t&&a.createElement("div",{className:"agent-summary"},i.length>0&&a.createElement("span",{className:"agent-summary-item"},i.length," keyword",1!==i.length?"s":""),e.triggers.some(e=>"natural_language"===e.type)&&a.createElement("span",{className:"agent-summary-item"},"AI trigger"),a.createElement("span",{className:"agent-summary-item"},"Priority: ",e.priority))),t&&a.createElement("div",{className:"agent-config-details"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Description"),a.createElement("textarea",{value:e.description,onChange:n=>A(e.id,{description:n.target.value}),placeholder:"What this policy does...",rows:2,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Trigger Keywords (Optional)"),a.createElement(o,{values:i,onChange:n=>{const t=e.triggers.filter(e=>"keyword"!==e.type);if(n.length>0){const a=e.triggers.find(e=>"keyword"===e.type);t.push({type:"keyword",value:n,target:"intent",case_sensitive:!1,operator:a?.operator||"and"})}A(e.id,{triggers:t})},placeholder:"Type keyword and press Enter or comma",disabled:!n.enablePolicies}),a.createElement("small",null,"Type keywords and press Enter or comma to add. Click × to remove.")),i.length>1&&a.createElement("div",{className:"form-group"},a.createElement("label",null,"Keyword Matching"),a.createElement("select",{value:r?.operator||"and",onChange:n=>{const t=n.target.value,a=e.triggers.map(e=>"keyword"===e.type?{...e,operator:t}:e);A(e.id,{triggers:a})},disabled:!n.enablePolicies},a.createElement("option",{value:"and"},"Match ALL keywords (AND)"),a.createElement("option",{value:"or"},"Match ANY keyword (OR)")),a.createElement("small",null,"Choose whether all keywords or any keyword should trigger this policy")),(()=>{const t=e.triggers.find(e=>"natural_language"===e.type),l=t?Array.isArray(t.value)?t.value:t.value?[t.value]:[]:[];return a.createElement("div",{className:"form-group"},a.createElement("label",null,"Natural Language Triggers"),t?a.createElement(a.Fragment,null,a.createElement(o,{values:l,onChange:n=>{const t=e.triggers.map(e=>"natural_language"===e.type?{...e,value:n}:e);A(e.id,{triggers:t})},placeholder:"Type natural language trigger and press Enter",disabled:!n.enablePolicies}),a.createElement("div",{className:"form-group",style:{marginTop:"12px"}},a.createElement("label",null,"Similarity Threshold"),a.createElement("input",{type:"range",min:"0.5",max:"1.0",step:"0.05",value:t.threshold||.7,onChange:n=>{const t=e.triggers.map(e=>"natural_language"===e.type?{...e,threshold:parseFloat(n.target.value)}:e);A(e.id,{triggers:t})},disabled:!n.enablePolicies}),a.createElement("small",null,"Threshold: ",(t.threshold||.7).toFixed(2)," (higher = more strict matching)")),a.createElement("button",{onClick:()=>{const n=e.triggers.filter(e=>"natural_language"!==e.type);A(e.id,{triggers:n})},disabled:!n.enablePolicies,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:n.enablePolicies?"pointer":"not-allowed",fontSize:"12px"}},"Remove Natural Language Trigger")):a.createElement("button",{onClick:()=>{A(e.id,{triggers:[...e.triggers,{type:"natural_language",value:[],target:"intent",threshold:.7}]})},disabled:!n.enablePolicies,style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:n.enablePolicies?"pointer":"not-allowed",fontSize:"13px"}},"+ Add Natural Language Trigger"),a.createElement("small",null,"Type natural language triggers and press Enter to add. AI will match similar intents using semantic understanding."))})(),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Response Message"),a.createElement("textarea",{value:e.response.content,onChange:n=>A(e.id,{response:{...e.response,content:n.target.value}}),placeholder:"This action is not allowed.",rows:3,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-row"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Priority"),a.createElement("input",{type:"number",value:e.priority,onChange:n=>A(e.id,{priority:parseInt(n.target.value)}),min:"0",max:"100",disabled:!n.enablePolicies}),a.createElement("small",null,"Higher priority policies are checked first")),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"checkbox-label"},a.createElement("input",{type:"checkbox",checked:e.allow_override,onChange:n=>A(e.id,{allow_override:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("span",null,"Allow Override")),a.createElement("small",null,"User can bypass this policy")))))})),0===P.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No intent guards configured. Click "Add Intent Guard" to create one.'))),"playbook"===i&&a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Playbooks"),a.createElement("button",{className:"add-btn",onClick:N,disabled:!n.enablePolicies},a.createElement(l.FWt,{size:16}),"Add Playbook")),a.createElement("div",{className:"sources-list"},T.map(e=>{const t=c===e.id,r=e.triggers.find(e=>"keyword"===e.type),i=r&&Array.isArray(r.value)?r.value:[];return a.createElement("div",{key:e.id,className:"agent-config-card"},a.createElement("div",{className:"agent-config-header"},a.createElement("div",{className:"agent-config-top"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>A(e.id,{enabled:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("input",{type:"text",value:e.name,onChange:n=>A(e.id,{name:n.target.value}),className:"agent-config-name",placeholder:"Playbook Name",disabled:!n.enablePolicies}),a.createElement("button",{className:"expand-btn",onClick:()=>d(t?null:e.id)},t?a.createElement(l.rXn,{size:16}):a.createElement(l.yQN,{size:16})),a.createElement("button",{className:"delete-btn",onClick:()=>z(e.id),disabled:!n.enablePolicies},a.createElement(l.TBR,{size:16}))),!t&&a.createElement("div",{className:"agent-summary"},a.createElement("span",{className:"agent-summary-item"},e.steps.length," step",1!==e.steps.length?"s":""),e.triggers.length>0&&a.createElement("span",{className:"agent-summary-item"},"natural_language"===e.triggers[0].type?"AI trigger":`${i.length} keyword${1!==i.length?"s":""}`))),t&&a.createElement("div",{className:"agent-config-details"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Description"),a.createElement("textarea",{value:e.description,onChange:n=>A(e.id,{description:n.target.value}),placeholder:"What this playbook guides the user through...",rows:2,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Trigger Type"),a.createElement("select",{value:e.triggers.length>0&&"natural_language"===e.triggers[0].type?"natural_language":"keyword",onChange:n=>{const t=n.target.value;A(e.id,"natural_language"===t?{triggers:[{type:"natural_language",value:[],target:"intent",threshold:.7}]}:{triggers:[{type:"keyword",value:[],target:"intent",case_sensitive:!1,operator:"and"}]})},disabled:!n.enablePolicies},a.createElement("option",{value:"keyword"},"Keywords (Exact Match)"),a.createElement("option",{value:"natural_language"},"Natural Language (AI Match)")),a.createElement("small",null,"Choose how this playbook should be triggered")),e.triggers.length>0&&"keyword"===e.triggers[0].type&&a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",null,"Trigger Keywords"),a.createElement(o,{values:i,onChange:n=>{const t=e.triggers.map(e=>"keyword"===e.type?{...e,value:n}:e);A(e.id,{triggers:t})},placeholder:"Type keyword and press Enter or comma",disabled:!n.enablePolicies}),a.createElement("small",null,"Type keywords and press Enter or comma to add. Click × to remove.")),i.length>1&&a.createElement("div",{className:"form-group"},a.createElement("label",null,"Keyword Matching"),a.createElement("select",{value:r?.operator||"and",onChange:n=>{const t=n.target.value,a=e.triggers.map(e=>"keyword"===e.type?{...e,operator:t}:e);A(e.id,{triggers:a})},disabled:!n.enablePolicies},a.createElement("option",{value:"and"},"Match ALL keywords (AND)"),a.createElement("option",{value:"or"},"Match ANY keyword (OR)")),a.createElement("small",null,"Choose whether all keywords or any keyword should trigger this playbook"))),e.triggers.length>0&&"natural_language"===e.triggers[0].type&&a.createElement(a.Fragment,null,a.createElement("div",{className:"form-group"},a.createElement("label",null,"Natural Language Triggers"),a.createElement(o,{values:Array.isArray(e.triggers[0].value)?e.triggers[0].value:e.triggers[0].value?[e.triggers[0].value]:[],onChange:n=>{const t=e.triggers.map((e,t)=>0===t?{...e,value:n}:e);A(e.id,{triggers:t})},placeholder:"Type trigger and press Enter",disabled:!n.enablePolicies}),a.createElement("small",null,"Type natural language triggers and press Enter to add. AI will match similar user requests.")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Similarity Threshold"),a.createElement("input",{type:"range",min:"0.5",max:"1.0",step:"0.05",value:e.triggers[0].threshold||.7,onChange:n=>{const t=e.triggers.map((e,t)=>0===t?{...e,threshold:parseFloat(n.target.value)}:e);A(e.id,{triggers:t})},disabled:!n.enablePolicies}),a.createElement("small",null,"Threshold: ",(e.triggers[0].threshold||.7).toFixed(2)," (higher = more strict matching)"))),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Markdown Content"),a.createElement("textarea",{value:e.markdown_content,onChange:n=>A(e.id,{markdown_content:n.target.value}),placeholder:"# Task Guide ## Steps: 1. First step\n2. Second step",rows:8,disabled:!n.enablePolicies,style:{fontFamily:"monospace",fontSize:"13px"}}),a.createElement("small",null,"Markdown-formatted guidance that will be shown to the agent")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Priority"),a.createElement("input",{type:"number",value:e.priority,onChange:n=>A(e.id,{priority:parseInt(n.target.value)}),min:"0",max:"100",disabled:!n.enablePolicies}),a.createElement("small",null,"Higher priority playbooks are checked first"))))})),0===T.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No playbooks configured. Click "Add Playbook" to create one.'))),"tool_guide"===i&&a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Tool Guide Policies"),a.createElement("button",{className:"add-btn",onClick:C,disabled:!n.enablePolicies},a.createElement(l.FWt,{size:16}),"Add Tool Guide")),a.createElement("div",{className:"sources-list"},M.map(e=>{const t=c===e.id;return a.createElement("div",{key:e.id,className:"agent-config-card"},a.createElement("div",{className:"agent-config-header"},a.createElement("div",{className:"agent-config-top"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>A(e.id,{enabled:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("input",{type:"text",value:e.name,onChange:n=>A(e.id,{name:n.target.value}),className:"agent-config-name",placeholder:"Policy Name",disabled:!n.enablePolicies}),a.createElement("button",{className:"expand-btn",onClick:()=>d(t?null:e.id)},t?a.createElement(l.rXn,{size:16}):a.createElement(l.yQN,{size:16})),a.createElement("button",{className:"delete-btn",onClick:()=>z(e.id),disabled:!n.enablePolicies},a.createElement(l.TBR,{size:16}))),!t&&a.createElement("div",{className:"agent-summary"},a.createElement("span",{className:"agent-summary-item"},e.target_tools.includes("*")?"All tools":`${e.target_tools.length} tool(s)`),e.target_apps&&e.target_apps.length>0&&a.createElement("span",{className:"agent-summary-item"},e.target_apps.length," app(s)"),a.createElement("span",{className:"agent-summary-item"},"Priority: ",e.priority))),t&&a.createElement("div",{className:"agent-config-details"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Description"),a.createElement("textarea",{value:e.description,onChange:n=>A(e.id,{description:n.target.value}),rows:2,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Target Tools"),a.createElement(r,{items:b.map(e=>({value:e.name,label:e.name,description:`${e.app} - ${e.description.substring(0,60)}${e.description.length>60?"...":""}`})),selectedValues:e.target_tools,onChange:n=>A(e.id,{target_tools:n}),placeholder:h?"Loading tools...":"Select tools to enrich",disabled:!n.enablePolicies||h,allowWildcard:!0}),a.createElement("small",null,"Select specific tools to enrich, or use * to enrich all tools")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Target Apps (optional)"),a.createElement(r,{items:y.map(e=>({value:e.name,label:e.name,description:`${e.type} - ${e.tool_count} tool(s)`})),selectedValues:e.target_apps||[],onChange:n=>A(e.id,{target_apps:n.length>0?n:void 0}),placeholder:h?"Loading apps...":"Select apps (optional)",disabled:!n.enablePolicies||h,allowWildcard:!1}),a.createElement("small",null,"Optionally filter by app name")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Guide Content (Markdown)"),a.createElement("textarea",{value:e.guide_content,onChange:n=>A(e.id,{guide_content:n.target.value}),placeholder:"## Additional Guidelines - Follow best practices\n- Consider security",rows:6,disabled:!n.enablePolicies,style:{fontFamily:"monospace",fontSize:"13px"}}),a.createElement("small",null,"Markdown content to add to tool descriptions")),a.createElement("div",{className:"form-group"},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:e.prepend,onChange:n=>A(e.id,{prepend:n.target.checked}),disabled:!n.enablePolicies}),"Prepend content (add before existing description)")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Priority"),a.createElement("input",{type:"number",value:e.priority,onChange:n=>A(e.id,{priority:parseInt(n.target.value)}),min:"0",max:"100",disabled:!n.enablePolicies}),a.createElement("small",null,"Higher priority guides are applied first"))))})),0===M.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No tool guide policies configured. Click "Add Tool Guide" to create one.'))),"tool_approval"===i&&a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Tool Approval Policies"),a.createElement("button",{className:"add-btn",onClick:_,disabled:!n.enablePolicies},a.createElement(l.FWt,{size:16}),"Add Tool Approval")),a.createElement("div",{className:"policies-list"},I.map(e=>{const t=c===e.id;return a.createElement("div",{key:e.id,className:"agent-config-card"},a.createElement("div",{className:"agent-config-header"},a.createElement("div",{className:"agent-config-top"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>A(e.id,{enabled:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("input",{type:"text",value:e.name,onChange:n=>A(e.id,{name:n.target.value}),className:"agent-config-name",placeholder:"Policy Name",disabled:!n.enablePolicies}),a.createElement("button",{className:"expand-btn",onClick:()=>d(t?null:e.id)},t?a.createElement(l.rXn,{size:16}):a.createElement(l.yQN,{size:16})),a.createElement("button",{className:"delete-btn",onClick:()=>z(e.id),disabled:!n.enablePolicies},a.createElement(l.TBR,{size:16}))),!t&&a.createElement("div",{className:"agent-summary"},a.createElement("span",{className:"agent-summary-item"},0===e.required_tools.length?"No tools selected":e.required_tools.includes("*")?"All tools":`${e.required_tools.length} tool(s)`),e.required_apps&&e.required_apps.length>0&&a.createElement("span",{className:"agent-summary-item"},e.required_apps.length," app(s)"),a.createElement("span",{className:"agent-summary-item"},"Priority: ",e.priority))),t&&a.createElement("div",{className:"agent-config-details"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Description"),a.createElement("textarea",{value:e.description,onChange:n=>A(e.id,{description:n.target.value}),rows:2,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Required Tools"),a.createElement(r,{items:b.map(e=>({value:e.name,label:e.name,description:`${e.app} - ${e.description.substring(0,60)}${e.description.length>60?"...":""}`})),selectedValues:e.required_tools,onChange:n=>A(e.id,{required_tools:n}),placeholder:h?"Loading tools...":"Select tools requiring approval",disabled:!n.enablePolicies||h,allowWildcard:!0}),a.createElement("small",null,"Tools that require approval before execution")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Required Apps (optional)"),a.createElement(r,{items:y.map(e=>({value:e.name,label:e.name,description:`${e.type} - ${e.tool_count} tool(s)`})),selectedValues:e.required_apps||[],onChange:n=>A(e.id,{required_apps:n.length>0?n:void 0}),placeholder:h?"Loading apps...":"Select apps (optional)",disabled:!n.enablePolicies||h,allowWildcard:!1}),a.createElement("small",null,"Optionally require approval for all tools from specific apps")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Approval Message (optional)"),a.createElement("textarea",{value:e.approval_message||"",onChange:n=>A(e.id,{approval_message:n.target.value||void 0}),placeholder:"This tool requires your approval before execution.",rows:3,disabled:!n.enablePolicies}),a.createElement("small",null,"Custom message shown when requesting approval")),a.createElement("div",{className:"form-group"},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:e.show_code_preview,onChange:n=>A(e.id,{show_code_preview:n.target.checked}),disabled:!n.enablePolicies}),"Show code preview in approval request")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Auto-approve after (seconds, optional)"),a.createElement("input",{type:"number",value:e.auto_approve_after||"",onChange:n=>{const t=n.target.value?parseInt(n.target.value):void 0;A(e.id,{auto_approve_after:t})},min:"1",placeholder:"Leave empty for no auto-approve",disabled:!n.enablePolicies}),a.createElement("small",null,"Automatically approve after N seconds (leave empty to disable)")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Priority"),a.createElement("input",{type:"number",value:e.priority,onChange:n=>A(e.id,{priority:parseInt(n.target.value)}),min:"0",max:"100",disabled:!n.enablePolicies}),a.createElement("small",null,"Higher priority approval policies are checked first"))))})),0===I.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No tool approval policies configured. Click "Add Tool Approval" to create one.'))),"output_formatter"===i&&a.createElement("div",{className:"config-card"},a.createElement("div",{className:"section-header"},a.createElement("h3",null,"Output Formatter Policies"),a.createElement("button",{className:"add-btn",onClick:S,disabled:!n.enablePolicies},a.createElement(l.FWt,{size:16}),"Add Output Formatter")),a.createElement("div",{className:"policies-list"},R.map(e=>{const t=c===e.id,r=e.triggers.find(e=>"keyword"===e.type),i=r&&Array.isArray(r.value)?r.value:[];return a.createElement("div",{key:e.id,className:"agent-config-card"},a.createElement("div",{className:"agent-config-header"},a.createElement("div",{className:"agent-config-top"},a.createElement("input",{type:"checkbox",checked:e.enabled,onChange:n=>A(e.id,{enabled:n.target.checked}),disabled:!n.enablePolicies}),a.createElement("input",{type:"text",value:e.name,onChange:n=>A(e.id,{name:n.target.value}),className:"agent-config-name",placeholder:"Policy Name",disabled:!n.enablePolicies}),a.createElement("button",{className:"expand-btn",onClick:()=>d(t?null:e.id)},t?a.createElement(l.rXn,{size:16}):a.createElement(l.yQN,{size:16})),a.createElement("button",{className:"delete-btn",onClick:()=>z(e.id),disabled:!n.enablePolicies},a.createElement(l.TBR,{size:16}))),!t&&a.createElement("div",{className:"agent-summary"},a.createElement("span",{className:"agent-summary-item"},"direct"===e.format_type?"Direct":"markdown"===e.format_type?"Markdown (LLM)":"JSON (LLM)"),i.length>0&&a.createElement("span",{className:"agent-summary-item"},i.length," keyword",1!==i.length?"s":""),e.triggers.some(e=>"natural_language"===e.type)&&a.createElement("span",{className:"agent-summary-item"},"AI trigger"),a.createElement("span",{className:"agent-summary-item"},"Priority: ",e.priority))),t&&a.createElement("div",{className:"agent-config-details"},a.createElement("div",{className:"form-group"},a.createElement("label",null,"Description"),a.createElement("textarea",{value:e.description,onChange:n=>A(e.id,{description:n.target.value}),rows:2,disabled:!n.enablePolicies})),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Trigger Keywords (Optional)"),a.createElement(o,{values:i,onChange:n=>{const t=e.triggers.filter(e=>"keyword"!==e.type);if(n.length>0){const a=e.triggers.find(e=>"keyword"===e.type);t.push({type:"keyword",value:n,target:"agent_response",case_sensitive:!1,operator:a?.operator||"and"})}A(e.id,{triggers:t})},placeholder:"Type keyword and press Enter or comma",disabled:!n.enablePolicies}),a.createElement("small",null,"Keywords to match against the last AI message content. Leave empty to always format.")),i.length>1&&a.createElement("div",{className:"form-group"},a.createElement("label",null,"Keyword Matching"),a.createElement("select",{value:r?.operator||"and",onChange:n=>{const t=n.target.value,a=e.triggers.map(e=>"keyword"===e.type?{...e,operator:t}:e);A(e.id,{triggers:a})},disabled:!n.enablePolicies},a.createElement("option",{value:"and"},"Match ALL keywords (AND)"),a.createElement("option",{value:"or"},"Match ANY keyword (OR)")),a.createElement("small",null,"Choose whether all keywords or any keyword should trigger this formatter")),(()=>{const t=e.triggers.find(e=>"natural_language"===e.type),l=t?Array.isArray(t.value)?t.value:t.value?[t.value]:[]:[];return a.createElement("div",{className:"form-group"},a.createElement("label",null,"Natural Language Triggers"),t?a.createElement(a.Fragment,null,a.createElement(o,{values:l,onChange:n=>{const t=e.triggers.map(e=>"natural_language"===e.type?{...e,value:n}:e);A(e.id,{triggers:t})},placeholder:"Type natural language trigger and press Enter",disabled:!n.enablePolicies}),a.createElement("div",{className:"form-group",style:{marginTop:"12px"}},a.createElement("label",null,"Similarity Threshold"),a.createElement("input",{type:"range",min:"0.5",max:"1.0",step:"0.05",value:t.threshold||.7,onChange:n=>{const t=e.triggers.map(e=>"natural_language"===e.type?{...e,threshold:parseFloat(n.target.value)}:e);A(e.id,{triggers:t})},disabled:!n.enablePolicies}),a.createElement("small",null,"Threshold: ",(t.threshold||.7).toFixed(2)," (higher = more strict matching)")),a.createElement("button",{onClick:()=>{const n=e.triggers.filter(e=>"natural_language"!==e.type);A(e.id,{triggers:n})},disabled:!n.enablePolicies,style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:n.enablePolicies?"pointer":"not-allowed",fontSize:"12px"}},"Remove Natural Language Trigger")):a.createElement("button",{onClick:()=>{A(e.id,{triggers:[...e.triggers,{type:"natural_language",value:[],target:"agent_response",threshold:.7}]})},disabled:!n.enablePolicies,style:{padding:"6px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:n.enablePolicies?"pointer":"not-allowed",fontSize:"13px"}},"+ Add Natural Language Trigger"),a.createElement("small",null,"Type natural language triggers and press Enter to add. AI will match similar responses using semantic understanding."))})(),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Format Type"),a.createElement("select",{value:e.format_type,onChange:n=>A(e.id,{format_type:n.target.value}),disabled:!n.enablePolicies},a.createElement("option",{value:"direct"},"Direct Answer (No LLM)"),a.createElement("option",{value:"markdown"},"Markdown Instructions (LLM)"),a.createElement("option",{value:"json_schema"},"JSON Schema (LLM)")),a.createElement("small",null,"direct"===e.format_type?"Directly replace the response with the provided string (no LLM processing)":"markdown"===e.format_type?"Use LLM to reformat the response according to markdown instructions":"Use LLM to extract and format the response as JSON matching the schema")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"direct"===e.format_type?"Direct Answer String":"markdown"===e.format_type?"Formatting Instructions (Markdown)":"JSON Schema"),a.createElement("textarea",{value:e.format_config,onChange:n=>A(e.id,{format_config:n.target.value}),placeholder:"direct"===e.format_type?"You are not allowed to view this sensitive data":"markdown"===e.format_type?"Format the response in a clear, structured way with proper headings and bullet points.":'{\n  "type": "object",\n  "properties": {\n    "summary": {"type": "string"},\n    "details": {"type": "array"}\n  }\n}',rows:"json_schema"===e.format_type?12:"direct"===e.format_type?4:8,disabled:!n.enablePolicies,style:{fontFamily:"direct"===e.format_type?"inherit":"monospace",fontSize:"13px"}}),a.createElement("small",null,"direct"===e.format_type?"This exact string will replace the AI response when triggers match (no LLM processing)":"markdown"===e.format_type?"Markdown instructions for how to format the AI response (processed by LLM)":"JSON schema that the formatted response must match (processed by LLM)")),a.createElement("div",{className:"form-group"},a.createElement("label",null,"Priority"),a.createElement("input",{type:"number",value:e.priority,onChange:n=>A(e.id,{priority:parseInt(n.target.value)}),min:"0",max:"100",disabled:!n.enablePolicies}),a.createElement("small",null,"Higher priority formatters are checked first"))))})),0===R.length&&a.createElement("div",{className:"empty-state"},a.createElement("p",null,'No output formatter policies configured. Click "Add Output Formatter" to create one.'))))),a.createElement("div",{className:"config-modal-footer"},a.createElement("button",{className:"cancel-btn",onClick:e},"Cancel"),a.createElement("button",{className:`save-btn ${m}`,onClick:async()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await new Promise(e=>setTimeout(e,50)),p("saving");try{const e={...n,policies:n.policies.map(e=>({...e,triggers:e.triggers.map(e=>{if("natural_language"===e.type&&void 0!==e.value){const n=Array.isArray(e.value)?e.value:"string"==typeof e.value?[e.value]:[];return{...e,value:n}}return e})}))};e.policies.forEach((e,n)=>{e.triggers.forEach((e,n)=>{"keyword"===e.type||e.type})});const t=await fetch("/api/config/policies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){await t.json();p("success"),setTimeout(()=>p("idle"),2e3)}else{await t.text();p("error"),setTimeout(()=>p("idle"),2e3)}}catch(e){p("error"),setTimeout(()=>p("idle"),2e3)}},disabled:"saving"===m},a.createElement(l.eMP,{size:16}),"idle"===m&&"Save Changes","saving"===m&&"Saving...","success"===m&&"Saved!","error"===m&&"Error!"))))}},35507:function(e,n,t){t.d(n,{A:function(){return h}});var a=t(7378),l=t(83281),r=t(76228),o=t.n(r),i=t(74253),s=t.n(i),c=t(52255),d=t.n(c),m=t(51308),p=t.n(m),u=t(19464),g=t.n(u),b=t(91077),f=t.n(b),y=t(17164),v={};v.styleTagTransform=f(),v.setAttributes=p(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=g();o()(y.A,v),y.A&&y.A.locals&&y.A.locals;var h=({data:e})=>{const{content:n,metadata:t}=e,r=Math.round(100*t.policy_confidence);return a.createElement("div",{className:"policy-block-container"},a.createElement("div",{className:"policy-block-header"},a.createElement("div",{className:"policy-block-icon"},a.createElement(l.ekZ,{size:24})),a.createElement("div",{className:"policy-block-title"},a.createElement("h3",null,"Intent Blocked by Policy"),a.createElement("span",{className:"policy-block-badge"},"Security Policy"))),a.createElement("div",{className:"policy-block-content"},a.createElement("div",{className:"policy-block-message"},a.createElement(l.RIJ,{size:18,className:"message-icon"}),a.createElement("p",null,n)),a.createElement("div",{className:"policy-block-details"},a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Policy Name:"),a.createElement("span",{className:"policy-detail-value"},t.policy_name)),a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Policy ID:"),a.createElement("span",{className:"policy-detail-value policy-id"},t.policy_id)),a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Match Confidence:"),a.createElement("div",{className:"confidence-bar-container"},a.createElement("div",{className:"confidence-bar"},a.createElement("div",{className:"confidence-bar-fill",style:{width:`${r}%`}})),a.createElement("span",{className:"confidence-value"},r,"%"))),a.createElement("div",{className:"policy-reasoning-section"},a.createElement("div",{className:"reasoning-header"},a.createElement(l.R2D,{size:16}),a.createElement("span",null,"Reasoning")),a.createElement("p",{className:"reasoning-text"},t.policy_reasoning)))))}},286:function(e,n,t){t.d(n,{A:function(){return h}});var a=t(7378),l=t(83281),r=t(76228),o=t.n(r),i=t(74253),s=t.n(i),c=t(52255),d=t.n(c),m=t(51308),p=t.n(m),u=t(19464),g=t.n(u),b=t(91077),f=t.n(b),y=t(54776),v={};v.styleTagTransform=f(),v.setAttributes=p(),v.insert=d().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=g();o()(y.A,v),y.A&&y.A.locals&&y.A.locals;var h=({data:e})=>{const{content:n,metadata:t}=e,r=Math.round(100*t.policy_confidence),o=t.playbook_steps||[];return a.createElement("div",{className:"policy-playbook-container"},a.createElement("div",{className:"policy-playbook-header"},a.createElement("div",{className:"policy-playbook-icon"},a.createElement(l.Gyj,{size:24})),a.createElement("div",{className:"policy-playbook-title"},a.createElement("h3",null,"Playbook Activated"),a.createElement("span",{className:"policy-playbook-badge"},"Guided Workflow"))),a.createElement("div",{className:"policy-playbook-content"},a.createElement("div",{className:"policy-playbook-message"},a.createElement(l.g5W,{size:18,className:"message-icon"}),a.createElement("p",null,n||"I'll guide you through this process step by step.")),a.createElement("div",{className:"policy-playbook-details"},a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Playbook Name:"),a.createElement("span",{className:"policy-detail-value"},t.policy_name)),a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Policy ID:"),a.createElement("span",{className:"policy-detail-value policy-id"},t.policy_id)),a.createElement("div",{className:"policy-detail-row"},a.createElement("span",{className:"policy-detail-label"},"Match Confidence:"),a.createElement("div",{className:"confidence-bar-container"},a.createElement("div",{className:"confidence-bar"},a.createElement("div",{className:"confidence-bar-fill",style:{width:`${r}%`}})),a.createElement("span",{className:"confidence-value"},r,"%"))),o.length>0&&a.createElement("div",{className:"playbook-steps-section"},a.createElement("div",{className:"steps-header"},a.createElement(l.R2D,{size:16}),a.createElement("span",null,"Workflow Steps (",o.length,")")),a.createElement("div",{className:"steps-list"},o.map((e,n)=>a.createElement("div",{key:n,className:"step-item"},a.createElement("div",{className:"step-number"},e.step_number),a.createElement("div",{className:"step-content"},a.createElement("div",{className:"step-instruction"},e.instruction),e.expected_outcome&&a.createElement("div",{className:"step-outcome"},a.createElement("span",{className:"outcome-label"},"Expected:")," ",e.expected_outcome),e.tools_allowed&&e.tools_allowed.length>0&&a.createElement("div",{className:"step-tools"},a.createElement("span",{className:"tools-label"},"Tools:")," ",e.tools_allowed.join(", "))))))),t.playbook_guidance&&a.createElement("div",{className:"playbook-guidance-section"},a.createElement("div",{className:"guidance-header"},a.createElement(l.R2D,{size:16}),a.createElement("span",null,"Guidance")),a.createElement("div",{className:"guidance-text"},t.playbook_guidance)))))}},82289:function(e,n,t){var a=t(54451),l=t.n(a),r=t(6604),o=t.n(r)()(l());o.push([e.id,".left-sidebar {\n  position: fixed;\n  left: 0;\n  top: 48px;\n  bottom: 0;\n  background: white;\n  border-right: 1px solid #e5e7eb;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.4s ease;\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);\n  width: 320px;\n  transform: translateX(0);\n  overflow: visible;\n}\n\n.left-sidebar.collapsed {\n  transform: translateX(-100%);\n  box-shadow: none;\n}\n\n.left-sidebar.expanded {\n  transform: translateX(0);\n  animation: slideInFromLeft 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes slideInFromLeft {\n  from {\n    transform: translateX(-100%);\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n\n.left-sidebar-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: 1px solid #e5e7eb;\n  gap: 6px;\n  background: #f9fafb;\n  min-height: 52px;\n}\n\n.left-sidebar-tabs {\n  display: flex;\n  gap: 3px;\n  flex: 1;\n  min-width: 0;\n  background: white;\n  border-radius: 8px;\n  padding: 3px;\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n}\n\n.sidebar-tab {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 6px 6px;\n  background: transparent;\n  border: none;\n  border-radius: 6px;\n  color: #64748b;\n  font-size: 10.5px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n  min-width: 0;\n}\n\n.sidebar-tab span {\n  white-space: nowrap;\n}\n\n.sidebar-tab:hover {\n  background: #f8fafc;\n  color: #4e00ec;\n}\n\n.sidebar-tab.active {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3);\n}\n\n.sidebar-tab-info-tooltip-wrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-left: 4px;\n  cursor: help;\n}\n\n.sidebar-info-icon {\n  color: #94a3b8;\n  cursor: help;\n  transition: color 0.2s ease;\n  flex-shrink: 0;\n  pointer-events: auto;\n}\n\n.sidebar-tab:hover .sidebar-info-icon {\n  color: #4e00ec;\n}\n\n.sidebar-tab.active .sidebar-info-icon {\n  color: white;\n}\n\n.sidebar-tab-info-tooltip-wrapper:hover .sidebar-info-icon {\n  color: #4e00ec !important;\n}\n\n.sidebar-tab.active .sidebar-tab-info-tooltip-wrapper:hover .sidebar-info-icon {\n  color: #e0e7ff !important;\n}\n\n.sidebar-tab-info-tooltip {\n  position: fixed;\n  top: 60px;\n  left: 20px;\n  width: 320px;\n  max-width: calc(100vw - 40px);\n  padding: 14px 16px;\n  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);\n  border: 2px solid #e0e7ff;\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(102, 126, 234, 0.25), 0 4px 12px rgba(0, 0, 0, 0.15);\n  font-size: 13px;\n  line-height: 1.6;\n  color: #334155;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;\n  z-index: 9999;\n  pointer-events: none;\n  transform-origin: top left;\n  font-weight: 500;\n  white-space: normal;\n  word-wrap: break-word;\n  word-break: break-word;\n  overflow-wrap: break-word;\n  hyphens: auto;\n}\n\n.sidebar-tab-info-tooltip code {\n  background: #e0e7ff;\n  color: #4f46e5;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;\n  font-size: 12px;\n  font-weight: 600;\n  white-space: nowrap;\n}\n\n.sidebar-tab-info-tooltip-wrapper:hover .sidebar-tab-info-tooltip {\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n  transform: translateY(2px);\n}\n\n.left-sidebar-toggle {\n  width: 32px;\n  min-width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  cursor: pointer;\n  color: #64748b;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.left-sidebar-toggle:hover {\n  background: #f8fafc;\n  border-color: #cbd5e1;\n  color: #4e00ec;\n}\n\n.left-sidebar-content {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: visible;\n  display: flex;\n  flex-direction: column;\n}\n\n.conversations-actions {\n  padding: 12px;\n  border-bottom: 1px solid #e5e7eb;\n  background: #f9fafb;\n}\n\n.new-conversation-btn {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 10px 16px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 13px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-shadow: 0 2px 4px rgba(102, 126, 234, 0.2);\n}\n\n.new-conversation-btn:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);\n}\n\n.new-conversation-btn:active {\n  transform: translateY(0);\n}\n\n.conversations-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 12px;\n  flex: 1;\n  overflow: visible;\n}\n\n.conversation-item {\n  background: #f8fafc;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n  overflow: visible;\n}\n\n.conversation-item:hover {\n  background: #f1f5f9;\n  border-color: #cbd5e1;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);\n}\n\n.conversation-item.selected {\n  background: #eef2ff;\n  border-color: #667eea;\n  box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);\n}\n\n.conversation-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 6px;\n  position: relative;\n  overflow: visible;\n}\n\n.conversation-header svg {\n  color: #667eea;\n  flex-shrink: 0;\n}\n\n.conversation-title {\n  font-size: 13px;\n  font-weight: 600;\n  color: #1e293b;\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.delete-conversation-btn {\n  background: none;\n  border: none;\n  color: #94a3b8;\n  cursor: pointer;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n  opacity: 0;\n}\n\n.conversation-item:hover .delete-conversation-btn {\n  opacity: 1;\n}\n\n.delete-conversation-btn:hover {\n  background: #fee2e2;\n  color: #ef4444;\n}\n\n.conversation-preview {\n  font-size: 12px;\n  color: #64748b;\n  line-height: 1.4;\n  margin-bottom: 6px;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.conversation-date {\n  font-size: 11px;\n  color: #94a3b8;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  text-align: center;\n  color: #94a3b8;\n  gap: 8px;\n}\n\n.empty-state svg {\n  opacity: 0.5;\n}\n\n.empty-state p {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: #64748b;\n}\n\n.empty-state small {\n  font-size: 12px;\n}\n\n.variables-wrapper {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n.variables-wrapper .variables-sidebar {\n  position: relative !important;\n  left: 0 !important;\n  top: 0 !important;\n  height: 100%;\n  width: 100%;\n  border-right: none;\n  box-shadow: none;\n  transform: none !important;\n}\n\n.variables-wrapper .variables-sidebar-floating-toggle {\n  display: none;\n}\n\n.left-sidebar-floating-toggle {\n  position: fixed;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 48px;\n  height: 64px;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-left: none;\n  border-radius: 0 8px 8px 0;\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  z-index: 999;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: #64748b;\n  animation: slideInToggle 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.left-sidebar-floating-toggle:hover {\n  background: #f8fafc;\n  color: #4e00ec;\n  box-shadow: 2px 0 12px rgba(102, 126, 234, 0.2);\n  transform: translateY(-50%) translateX(4px);\n}\n\n@keyframes slideInToggle {\n  from {\n    transform: translateY(-50%) translateX(-100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(-50%) translateX(0);\n    opacity: 1;\n  }\n}\n\n.sidebar-floating-count {\n  font-size: 11px;\n  font-weight: 600;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 2px 6px;\n  border-radius: 10px;\n  min-width: 20px;\n  text-align: center;\n}\n\n.left-sidebar-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.left-sidebar-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.left-sidebar-content::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n.left-sidebar-content::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n@media (max-width: 768px) {\n  .left-sidebar {\n    width: 280px;\n  }\n}\n\n@media (max-width: 640px) {\n  .left-sidebar {\n    width: 100%;\n    max-width: 300px;\n  }\n}\n\n.flow-item {\n  cursor: default;\n}\n\n.flow-parameters {\n  margin: 8px 0;\n  padding: 8px;\n  background: white;\n  border-radius: 6px;\n  border: 1px solid #e5e7eb;\n}\n\n.flow-function-signature {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 11px;\n  color: #1e293b;\n  line-height: 1.6;\n}\n\n.flow-function-signature code {\n  background: transparent;\n  padding: 0;\n  color: inherit;\n  font-family: inherit;\n}\n\n.flow-params-list {\n  margin-left: 12px;\n  margin-top: 4px;\n}\n\n.flow-param {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  margin-bottom: 2px;\n}\n\n.param-name {\n  color: #667eea;\n  font-weight: 600;\n}\n\n.param-type {\n  color: #64748b;\n  font-style: italic;\n}\n\n.param-default {\n  color: #10b981;\n}\n\n.param-required {\n  color: #ef4444;\n  font-weight: 600;\n  margin-left: 2px;\n}\n\n.flow-info-icon-wrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n}\n\n.flow-info-icon {\n  color: #94a3b8;\n  cursor: pointer;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.flow-info-icon:hover {\n  color: #667eea;\n  transform: scale(1.1);\n}\n\n.flow-info-tooltip {\n  position: fixed;\n  width: 300px;\n  background: #1e293b;\n  color: white;\n  padding: 14px 16px;\n  border-radius: 8px;\n  font-size: 12px;\n  line-height: 1.5;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);\n  z-index: 99999;\n  animation: tooltipFadeIn 0.2s ease;\n  pointer-events: auto;\n}\n\n.flow-info-tooltip::before {\n  content: '';\n  position: absolute;\n  right: 100%;\n  top: 20px;\n  border: 8px solid transparent;\n  border-right-color: #1e293b;\n}\n\n@keyframes tooltipFadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n\n",""]),n.A=o},17164:function(e,n,t){var a=t(54451),l=t.n(a),r=t(6604),o=t.n(r)()(l());o.push([e.id,".policy-block-container {\n  background: linear-gradient(135deg, #fff5f5 0%, #ffe5e5 100%);\n  border: 2px solid #ff6b6b;\n  border-radius: 12px;\n  padding: 20px;\n  margin: 16px 0;\n  box-shadow: 0 4px 12px rgba(255, 107, 107, 0.15);\n  animation: slideIn 0.3s ease-out;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.policy-block-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 20px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid rgba(255, 107, 107, 0.2);\n}\n\n.policy-block-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 48px;\n  background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);\n  border-radius: 12px;\n  color: white;\n  flex-shrink: 0;\n  box-shadow: 0 4px 8px rgba(255, 107, 107, 0.3);\n}\n\n.policy-block-title {\n  flex: 1;\n}\n\n.policy-block-title h3 {\n  margin: 0 0 6px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #c92a2a;\n}\n\n.policy-block-badge {\n  display: inline-block;\n  padding: 4px 12px;\n  background: #ff6b6b;\n  color: white;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.policy-block-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.policy-block-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border-left: 4px solid #ff6b6b;\n}\n\n.message-icon {\n  color: #ff6b6b;\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.policy-block-message p {\n  margin: 0;\n  color: #495057;\n  font-size: 15px;\n  line-height: 1.6;\n}\n\n.policy-block-details {\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.7);\n  border-radius: 8px;\n}\n\n.policy-detail-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 14px;\n}\n\n.policy-detail-label {\n  font-weight: 600;\n  color: #868e96;\n  min-width: 140px;\n}\n\n.policy-detail-value {\n  color: #212529;\n  font-weight: 500;\n}\n\n.policy-id {\n  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;\n  font-size: 13px;\n  padding: 4px 8px;\n  background: rgba(255, 107, 107, 0.1);\n  border-radius: 4px;\n}\n\n.confidence-bar-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n}\n\n.confidence-bar {\n  flex: 1;\n  height: 8px;\n  background: rgba(255, 107, 107, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.confidence-bar-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #ff6b6b 0%, #ff5252 100%);\n  border-radius: 4px;\n  transition: width 0.6s ease-out;\n}\n\n.confidence-value {\n  font-weight: 600;\n  color: #ff6b6b;\n  min-width: 45px;\n  text-align: right;\n}\n\n.policy-reasoning-section {\n  margin-top: 8px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 107, 107, 0.2);\n}\n\n.reasoning-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 12px;\n  color: #495057;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.reasoning-header svg {\n  color: #ff6b6b;\n}\n\n.reasoning-text {\n  margin: 0;\n  color: #495057;\n  font-size: 14px;\n  line-height: 1.6;\n  font-style: italic;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .policy-block-container {\n    background: linear-gradient(135deg, #2d1515 0%, #3d1a1a 100%);\n    border-color: #ff6b6b;\n  }\n\n  .policy-block-message {\n    background: rgba(255, 255, 255, 0.05);\n  }\n\n  .policy-block-message p {\n    color: #e9ecef;\n  }\n\n  .policy-block-details {\n    background: rgba(255, 255, 255, 0.03);\n  }\n\n  .policy-detail-value {\n    color: #e9ecef;\n  }\n\n  .policy-reasoning-section {\n    background: rgba(255, 255, 255, 0.05);\n    border-color: rgba(255, 107, 107, 0.3);\n  }\n\n  .reasoning-text {\n    color: #ced4da;\n  }\n}\n\n",""]),n.A=o},54776:function(e,n,t){var a=t(54451),l=t.n(a),r=t(6604),o=t.n(r)()(l());o.push([e.id,"/* Policy Playbook Component Styles */\n\n.policy-playbook-container {\n  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n  border: 2px solid #3b82f6;\n  border-radius: 12px;\n  padding: 20px;\n  margin: 16px 0;\n  box-shadow: 0 4px 6px rgba(59, 130, 246, 0.1);\n  animation: slideIn 0.4s ease-out;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.policy-playbook-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 20px;\n  padding-bottom: 16px;\n  border-bottom: 2px solid rgba(59, 130, 246, 0.2);\n}\n\n.policy-playbook-icon {\n  width: 48px;\n  height: 48px;\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  box-shadow: 0 4px 6px rgba(59, 130, 246, 0.2);\n}\n\n.policy-playbook-title {\n  flex: 1;\n}\n\n.policy-playbook-title h3 {\n  margin: 0 0 6px 0;\n  font-size: 20px;\n  font-weight: 700;\n  color: #1e40af;\n}\n\n.policy-playbook-badge {\n  display: inline-block;\n  padding: 4px 12px;\n  background: rgba(59, 130, 246, 0.15);\n  color: #1e40af;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.policy-playbook-content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.policy-playbook-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border-left: 4px solid #3b82f6;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.policy-playbook-message .message-icon {\n  color: #3b82f6;\n  flex-shrink: 0;\n  margin-top: 2px;\n}\n\n.policy-playbook-message p {\n  margin: 0;\n  color: #1e293b;\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n}\n\n.policy-playbook-details {\n  background: rgba(255, 255, 255, 0.7);\n  border-radius: 8px;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.policy-detail-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 14px;\n}\n\n.policy-detail-label {\n  font-weight: 600;\n  color: #64748b;\n  min-width: 140px;\n}\n\n.policy-detail-value {\n  color: #1e293b;\n  font-weight: 500;\n}\n\n.policy-id {\n  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;\n  font-size: 13px;\n  padding: 4px 8px;\n  background: rgba(59, 130, 246, 0.1);\n  border-radius: 4px;\n}\n\n.confidence-bar-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n}\n\n.confidence-bar {\n  flex: 1;\n  height: 8px;\n  background: rgba(59, 130, 246, 0.2);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.confidence-bar-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);\n  border-radius: 4px;\n  transition: width 0.6s ease-out;\n}\n\n.confidence-value {\n  font-weight: 600;\n  color: #3b82f6;\n  min-width: 45px;\n  text-align: right;\n}\n\n.playbook-steps-section {\n  margin-top: 8px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.steps-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 16px;\n  color: #1e40af;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.steps-header svg {\n  color: #3b82f6;\n}\n\n.steps-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.step-item {\n  display: flex;\n  gap: 12px;\n  padding: 12px;\n  background: #f8fafc;\n  border-radius: 6px;\n  border-left: 3px solid #3b82f6;\n}\n\n.step-number {\n  width: 32px;\n  height: 32px;\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  font-size: 14px;\n  flex-shrink: 0;\n}\n\n.step-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.step-instruction {\n  font-weight: 600;\n  color: #1e293b;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.step-outcome {\n  font-size: 13px;\n  color: #64748b;\n  line-height: 1.5;\n}\n\n.outcome-label {\n  font-weight: 600;\n  color: #475569;\n}\n\n.step-tools {\n  font-size: 12px;\n  color: #64748b;\n  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;\n}\n\n.tools-label {\n  font-weight: 600;\n  color: #475569;\n}\n\n.playbook-guidance-section {\n  margin-top: 8px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.guidance-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 12px;\n  color: #1e40af;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.guidance-header svg {\n  color: #3b82f6;\n}\n\n.guidance-text {\n  color: #475569;\n  font-size: 14px;\n  line-height: 1.6;\n  white-space: pre-wrap;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .policy-playbook-container {\n    background: linear-gradient(135deg, #1e3a5f 0%, #2d4a6f 100%);\n    border-color: #3b82f6;\n  }\n\n  .policy-playbook-title h3 {\n    color: #93c5fd;\n  }\n\n  .policy-playbook-badge {\n    background: rgba(59, 130, 246, 0.25);\n    color: #93c5fd;\n  }\n\n  .policy-playbook-message {\n    background: rgba(255, 255, 255, 0.05);\n  }\n\n  .policy-playbook-message p {\n    color: #e2e8f0;\n  }\n\n  .policy-playbook-details {\n    background: rgba(255, 255, 255, 0.03);\n  }\n\n  .policy-detail-value {\n    color: #e2e8f0;\n  }\n\n  .playbook-steps-section,\n  .playbook-guidance-section {\n    background: rgba(255, 255, 255, 0.05);\n    border-color: rgba(59, 130, 246, 0.3);\n  }\n\n  .step-item {\n    background: rgba(255, 255, 255, 0.05);\n  }\n\n  .step-instruction {\n    color: #e2e8f0;\n  }\n\n  .guidance-text {\n    color: #cbd5e1;\n  }\n}\n\n",""]),n.A=o}}]);